<main class="dashboard-wrapper">
    <div class="container">
        <div class="craete-lead-wrapper">
            <div class="page-header">
                <h3 (click)="goBack()" class="page-title cursor-pointer">
                    <span>
                        <svg width="5" height="9" viewBox="0 0 5 9" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path
                                d="M-9.79475e-05 4.47979C-9.79402e-05 4.31342 0.0624016 4.15345 0.181152 4.02547L3.93115 0.186189C4.1749 -0.063365 4.5749 -0.063365 4.81865 0.186189C5.0624 0.435742 5.0624 0.845266 4.81865 1.09482L1.50615 4.47979L4.81865 7.86476C5.0624 8.11431 5.0624 8.51744 4.81865 8.76699C4.5749 9.01654 4.18115 9.01654 3.9374 8.76699L0.181152 4.9341C0.0561517 4.80613 -9.79548e-05 4.64616 -9.79475e-05 4.47979Z"
                                fill="#565D80" />
                        </svg> </span>Create ISO
                </h3>
            </div>
            <div class="create-laed-content" [ngStyle]="{ display: tabView ? 'block' : 'none' }" *ngIf="tabView">
                <div class="tab-view">
                    <ul class="step-listing">
                        <li [ngClass]="{ active: tabActive.number > 1 }"><a
                                [ngStyle]="{'background-color':color,'border-color':color,'color':'white'}">1</a>
                            <div class="list-after"
                                [ngStyle]="{'background':tabActive.number >1?color:'white','border-color':color}">
                            </div>
                        </li>
                        <li [ngClass]="{ active: tabActive.number > 2 }"><a
                                [ngStyle]="{'background-color':color,'border-color':color,'color':'white'}">2</a>
                            <div class="list-after"
                                [ngStyle]="{'background':tabActive.number >2?color:'white','border-color':color}">
                            </div>
                        </li>
                        <li [ngClass]="{ active: tabActive.number > 3 }"><a
                                [ngStyle]="{'background-color':color,'border-color':color,'color':'white'}">3</a></li>
                    </ul>
                </div>
                <div class="tab-wrapper">
                    <ul ngbNav #nav="ngbNav" [(activeId)]="tabActive.id" class="nav nav-tabs" role="tablist">
                        <li (click)="validateTabChange(1, 'LeadDetails')" class="nav-item" [ngbNavItem]="'LeadDetails'"
                            [disabled]="true">
                            <a class="nav-link" ngbNavLink data-bs-toggle="tab"
                                [ngStyle]="{'background':tabActive.id =='LeadDetails'?color:''}">Step 1</a>
                            <ng-template ngbNavContent>
                                <ng-container [formGroup]="leadSouceForm">
                                    <div class="tab-inner">
                                        <div class="row">
                                             <!-- honeypot prevents chrome user autofill bs-->
                                        <div style="height:0; overflow:hidden;display: none;">
                                            <input style="opacity:0;" type="email" value="" class="" />
                                            <input style="opacity:0;" type="password" value=""  class="d-" />
                                        </div>
                                        <!-- end  honeypot-->
                                            <div class="col-12 col-sm-6 col-md-6 col-lg-4 col-xl-3">
                                                <div class="form-group">
                                                    <label>ISO Name*</label>
                                                    <input formControlName="name" type="text" id="ddd3" name="ddd3"
                                                        placeholder="Enter ISO" class="form-control" autocomplete="off"/>
                                                    <div class="invalid-input" *ngIf="f.name.errors && f.name.touched">
                                                        <div *ngIf="f.name.errors.required">
                                                            ISO name is required
                                                        </div>
                                                        <div *ngIf="f.name.errors.pattern">
                                                            Invalid ISO name
                                                        </div>
                                                        <div *ngIf="f.name.errors.maxlength">
                                                            Maximum 100 characters allowed
                                                        </div>
                                                        <div *ngIf="f.name.errors.minlength">
                                                            ISO name must be minimum 3 characters long
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="col-12 col-sm-6 col-md-6 col-lg-4 col-xl-3">
                                                <div class="form-group">
                                                    <label>First Name</label>
                                                    <input formControlName="first_name" type="text"
                                                        placeholder="Enter first name" class="form-control" />
                                                    <div class="invalid-input"
                                                        *ngIf="f.first_name.errors && f.first_name.touched">
                                                        <div *ngIf="f.first_name.errors.required">
                                                            First name is required
                                                        </div>
                                                        <div *ngIf="f.first_name.errors.pattern">
                                                            Invalid name
                                                        </div>
                                                        <div *ngIf="f.first_name.errors.maxlength">
                                                            Maximum 100 characters allowed
                                                        </div>
                                                        <div *ngIf="f.first_name.errors.minlength">
                                                            First name must be minimum 3 characters long
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                              
                                            <div class="col-12 col-sm-6 col-md-6 col-lg-4 col-xl-3">
                                                <div class="form-group">
                                                    <label>Last Name</label>
                                                    <input formControlName="last_name" type="text" id="cds3" name="cds3"
                                                        placeholder="Enter last name" class="form-control" autocomplete="disable"/>
                                                    <div class="invalid-input"
                                                        *ngIf="f.last_name.errors && f.last_name.touched">
                                                        <div *ngIf="f.last_name.errors.required">
                                                            Last name is required
                                                        </div>
                                                        <div *ngIf="f.last_name.errors.pattern">
                                                            Invalid name
                                                        </div>
                                                        <div *ngIf="f.last_name.errors.maxlength">
                                                            Maximum 100 characters allowed
                                                        </div>
                                                        <div *ngIf="f.last_name.errors.minlength">
                                                            Last name must be minimum 3 characters long
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                     
                                            <div class="col-12 col-sm-6 col-md-6 col-lg-4 col-xl-3">
                                                <div class="form-group">
                                                    <label>Email</label>
                                                    <input formControlName="email" type="email" id="weew"
                                                        placeholder="Enter email" class="form-control"
                                                        name="weew"
                                                        autocomplete="wdfdfd" />
                                                    <div class="invalid-input"
                                                        *ngIf="f.email.errors && f.email.touched">
                                                        <div *ngIf="f.email.errors.required">
                                                            Email is required
                                                        </div>
                                                        <div *ngIf="f.email.errors.pattern">
                                                            Invalid email
                                                        </div>

                                                    </div>
                                                </div>
                                            </div>
                                            <div class="col-12 col-sm-6 col-md-6 col-lg-4 col-xl-3">
                                                <label for="country">Time Zone</label>
                                                <select formControlName="time_zone_id" name="country" id="time"
                                                    class="form-control">
                                                    <option [value]="time.id" *ngFor="let time of timezonesList">
                                                        {{ time.time_zone }}</option>
                                                </select>
                                            </div>
                                            <div class="col-12 col-sm-6 col-md-6 col-lg-4 col-xl-3">
                                                <label for="country">Entity Type</label>
                                                <select formControlName="entity_type_id" name="country" id="time"
                                                    class="form-control">
                                                    <option value="">
                                                        Select Entity Type</option>
                                                    <option [value]="entity.id" *ngFor="let entity of entityType">
                                                        {{ entity.name }}</option>
                                                </select>
                                            </div>
                                            <div class="col-12 col-sm-6 col-md-6 col-lg-4 col-xl-3">
                                                <div class="form-group">
                                                    <label>Phone Number</label>
                                                    <input [mask]="mask.phone" formControlName="phone_number"
                                                        type="text"  placeholder="(000) 000-0000" class="form-control" />
                                                    <div class="invalid-input"
                                                        *ngIf="f.phone_number.errors && f.phone_number.touched">
                                                        <div *ngIf="f.phone_number.errors.pattern">
                                                            Invalid phone number
                                                        </div>
                                                        <div *ngIf="f.phone_number.errors.mask">
                                                            Invalid phone number
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>

                                            <div class="col-12 col-sm-6 col-md-6 col-lg-4 col-xl-3">
                                                <div class="form-group">
                                                    <label>Role</label>
                                                    <select [attr.disabled]="'disabled'" formControlName="role"
                                                        class="form-control" name="" id="country">
                                                        <option value="ISO">ISO</option>
                                                        <!-- <option value="">--Select role--</option>
                                                        <option [value]="role.name" *ngFor="let role of rolesList">{{
                                                            role.name
                                                            }}</option> -->
                                                    </select>
                                                    <div class="invalid-input" *ngIf="f.role.errors && f.role.touched">
                                                        <div *ngIf="f.role.errors.required">
                                                            Role is required
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>

                                            <div class="col-12 col-sm-6 col-md-6 col-lg-4 col-xl-3">
                                                <div class="form-group">
                                                    <label>Ein</label>
                                                    <input formControlName="ein" [mask]="mask.federal_tax_id" type="tel"
                                                        placeholder="00-0000000" class="form-control" />
                                                    <div class="invalid-input" *ngIf="f.ein.errors && f.ein.touched">
                                                        <div *ngIf="f.ein.errors.mask">
                                                            Invalid ein
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="col-md-2 custom-control custom-switch" *ngIf="companyType == 'funded'">
                                           
                                                <input  type="checkbox" formControlName="send_iso_agreement"
                                                    class="custom-control-input cursor-pointer" id="customSwitch1">
                                                
                                                <label class="custom-control-label"
                                                    for="customSwitch1">Send ISO Agreement</label>
                                            </div>
                                            <!-- <div class="col-12 col-sm-6 col-md-6 col-lg-4 col-xl-3">
                                                <div class="form-group">
                                                    <label>Company Name</label>
                                                    <input formControlName="company_name" type="text"
                                                        placeholder="Enter company name" class="form-control" />
                                                    <div class="invalid-input"
                                                        *ngIf="f.company_name.errors && f.company_name.touched">
                                                        <div *ngIf="f.company_name.errors.pattern">
                                                            Invalid company name
                                                        </div>
                                                        <div *ngIf="f.company_name.errors.maxlength">
                                                            Maximum 100 characters allowed
                                                        </div>
                                                        <div *ngIf="f.company_name.errors.minlength">
                                                            Company name must be minimum 3 characters long
                                                        </div>
                                                    </div>
                                                </div>
                                            </div> -->
                                            <p class="label"><b>Address</b></p>
                                            <div class="col-12 col-sm-6 col-md-6 col-lg-4 col-xl-3" *ngIf="isApiLoaded">
                                                <div class="form-group">
                                                    <label>Street Address 1</label>
                                                    <input class="form-control" id="searchAddress" name="searchAddress"
                                                        formControlName="address" type="text"
                                                        placeholder="Enter street address 1"
                                                        ngx-google-places-autocomplete #placesRef="ngx-places"
                                                        (onAddressChange)="handleAddressChange($event)" />
                                                    <div class="invalid-input" *ngIf="
                                      f.address.errors && f.address.touched
                                    ">
                                                        <div *ngIf="f.address.errors.maxlength">
                                                            Maximum 200 characters allowed
                                                        </div>
                                                        <div *ngIf="f.address.errors.pattern">
                                                            Invalid street address 1
                                                        </div>
                                                        <div *ngIf="f.address.errors.minlength">
                                                            Street address 1 must be minimum 3 characters long
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="col-12 col-sm-6 col-md-6 col-lg-4 col-xl-3">
                                                <div class="form-group">
                                                    <label>Street Address 2</label>
                                                    <input formControlName="other_address" type="text"
                                                        placeholder="Enter street address 2" class="form-control" />
                                                    <div class="invalid-input" *ngIf="
                                      f.other_address.errors &&
                                      f.other_address.touched
                                    ">
                                                        <div *ngIf="f.other_address.errors.maxlength">
                                                            Maximum 200 characters allowed
                                                        </div>
                                                        <div *ngIf="f.other_address.errors.pattern">
                                                            Invalid street address 2
                                                        </div>
                                                        <div *ngIf="f.other_address.errors.minlength">
                                                            Street address 2 must be minimum 3 characters long
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="col-12 col-sm-6 col-md-6 col-lg-4 col-xl-3">
                                                <div class="form-group">
                                                    <label>Zip</label>
                                                    <input formControlName="zip_code" type="text"
                                                        placeholder="Enter zip" class="form-control" />
                                                    <div class="invalid-input"
                                                        *ngIf="f.zip_code.errors && f.zip_code.touched">
                                                        <div *ngIf="f.zip_code.errors.pattern">
                                                            Invalid zip
                                                        </div>
                                                        <div *ngIf="f.zip_code.errors.maxlength">
                                                            Maximum 5 characters allowed
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="col-12 col-sm-6 col-md-6 col-lg-4 col-xl-3">
                                                <div class="form-group">
                                                    <label>City</label>
                                                    <input formControlName="city" type="text" placeholder="Enter city"
                                                        class="form-control" />
                                                    <div class="invalid-input" *ngIf="f.city.errors && f.city.touched">
                                                        <div *ngIf="f.city.errors.pattern">
                                                            Invalid city
                                                        </div>
                                                        <div *ngIf="f.city.errors.maxlength">
                                                            Maximum 100 characters allowed
                                                        </div>
                                                        <div *ngIf="f.city.errors.minlength">
                                                            City name must be minimum 3 characters long
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>

                                            <div class="col-12 col-sm-6 col-md-6 col-lg-4 col-xl-3">
                                                <div class="form-group">
                                                    <label>Country</label>
                                                    <select (change)="
                                      onCountryChange($any($event.target).value)
                                    " formControlName="country_id" class="form-control" name="" id="">
                                                        <option [value]="country.id"
                                                            *ngFor="let country of countriesList">
                                                            {{ country.name }}
                                                        </option>
                                                    </select>
                                                    <div class="invalid-input" *ngIf="
                                      f.country_id.errors && f.country_id.touched
                                    ">
                                                        <div *ngIf="f.country_id.errors.required">
                                                            Country is required
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="col-12 col-sm-6 col-md-6 col-lg-4 col-xl-3">
                                                <div class="form-group">
                                                    <label>State</label>
                                                    <select formControlName="state_id" class="form-control" name=""
                                                        id="">
                                                        <option value="">--Select State--</option>
                                                        <option [value]="state.id" *ngFor="let state of statesList">
                                                            {{ state.name }}
                                                        </option>
                                                    </select>
                                                </div>
                                            </div>

                                            <!-- <div class="col-12 col-sm-6 col-md-6 col-lg-4 col-xl-3">
                                <div class="form-group">
                                    <label>Secondary Email</label>
                                    <input formControlName="secondary_email" type="email" id="tst"
                                        placeholder="Enter secondary email" class="form-control"
                                        autocomplete="off" />
                                    <div class="invalid-input"
                                        *ngIf="f.secondary_email.errors && f.secondary_email.touched">
                                        <div *ngIf="f.secondary_email.errors.required">
                                            Secondary email is required
                                        </div>
                                        <div *ngIf="f.secondary_email.errors.pattern">
                                            Invalid secondary email
                                        </div>

                                    </div>
                                </div>
                            </div>

                            <div class="col-12 col-sm-6 col-md-6 col-lg-4 col-xl-3">
                                <div class="form-group">
                                    <label>Status</label>
                                    <select formControlName="status" class="form-control" name="" id="country">
                                        <option value="1">Active</option>
                                        <option value="0">Inactive</option>
                                    </select>
                                    <div class="invalid-input" *ngIf="f.status.errors && f.status.touched">
                                        <div *ngIf="f.status.errors.required">
                                            Status is required
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-12 col-sm-6 col-md-6 col-lg-4 col-xl-3">
                                <div class="form-group">
                                    <label>Account Name</label>
                                    <input formControlName="account_name" type="text"
                                        placeholder="Enter account name" class="form-control" />
                                    <div class="invalid-input"
                                        *ngIf="f.account_name.errors && f.account_name.touched">
                                        <div *ngIf="f.account_name.errors.required">
                                            Account name is required
                                        </div>
                                        <div *ngIf="f.account_name.errors.pattern">
                                            Invalid account name
                                        </div>
                                        <div *ngIf="f.account_name.errors.minlength">
                                            Account name must be minimum 3 characters long
                                        </div>
                                        <div *ngIf="f.account_name.errors.maxlength">
                                            Maximum 100 characters allowed
                                        </div>
                                    </div>
                                </div>
                            </div> -->
                                            <!-- <div class="col-12 col-sm-6 col-md-6 col-lg-4 col-xl-3">
                                <div class="form-group">
                                    <label>Account #</label>
                                    <input formControlName="account" type="text" placeholder="Enter account #"
                                        class="form-control" />
                                    <div class="invalid-input" *ngIf="f.account.errors && f.account.touched">
                                        <div *ngIf="f.account.errors.pattern">
                                            Invalid account
                                        </div>
                                        <div *ngIf="f.account.errors.minlength">
                                            Account must be 3 characters long
                                        </div>
                                        <div *ngIf="f.account.errors.maxlength">
                                            Maximum 20 characters allowed
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-12 col-sm-6 col-md-6 col-lg-4 col-xl-3">
                                <div class="form-group">
                                    <label>Routing #</label>
                                    <input formControlName="routing" type="text" placeholder="Enter routing #"
                                        class="form-control" />
                                    <div class="invalid-input" *ngIf="f.routing.errors && f.routing.touched">
                                        <div *ngIf="f.routing.errors.pattern">
                                            Invalid routing
                                        </div>
                                        <div *ngIf="f.routing.errors.maxlength">
                                            Maximum 100 characters allowed
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-12 col-sm-6 col-md-6 col-lg-4 col-xl-3">
                                <div class="form-group">
                                    <label>Bank</label>
                                    <input formControlName="bank" type="text" placeholder="Enter bank"
                                        class="form-control" />
                                    <div class="invalid-input" *ngIf="f.bank.errors && f.bank.touched">
                                        <div *ngIf="f.bank.errors.required">
                                            Bank name is required
                                        </div>
                                        <div *ngIf="f.bank.errors.pattern">
                                            Invalid bank
                                        </div>
                                        <div *ngIf="f.bank.errors.minlength">
                                            Bank name must be minimum 3 characters long
                                        </div>
                                        <div *ngIf="f.bank.errors.maxlength">
                                            Maximum 100 characters allowed
                                        </div>
                                    </div>
                                </div>
                            </div> -->



                                            <div class="col-12 text-end">
                                                <a (click)="onLeadFormSubmit()" [ngStyle]="background"
                                                    class="theme-btn cursor-pointer">
                                                    <span class="">Next</span>
                                                    <span class="btn-icon btn-right-icon">
                                                        <svg width="5" height="10" viewBox="0 0 5 10" fill="none"
                                                            xmlns="http://www.w3.org/2000/svg">
                                                            <path
                                                                d="M5 5.26331C5 5.42963 4.93752 5.58955 4.81881 5.71748L1.06998 9.55557C0.826304 9.80504 0.426429 9.80504 0.182755 9.55557C-0.0609185 9.30609 -0.0609185 8.8967 0.182755 8.64722L3.49422 5.26331L0.182755 1.8794C-0.0609188 1.62992 -0.0609188 1.22692 0.182755 0.977449C0.426429 0.727974 0.820056 0.727974 1.06373 0.977449L4.81881 4.80914C4.94377 4.93707 5 5.09699 5 5.26331Z"
                                                                fill="white" />
                                                        </svg>

                                                    </span>
                                                </a>
                                            </div>
                                        </div>
                                    </div>
                                </ng-container>
                            </ng-template>
                        </li>
                        <li class="nav-item" (click)="validateTabChange(2, 'OfficerInfo')" [ngbNavItem]="'OfficerInfo'"
                            [disabled]="true">
                            <a class="nav-link" ngbNavLink data-bs-toggle="tab"
                                [ngStyle]="{'background':tabActive.id =='OfficerInfo'?color:''}">Step 2</a>
                            <ng-template ngbNavContent>
                                <div class="tab-inner">
                                    <div class="viewDownload">
                                        <!-- <p><b>ISO Agreement Document</b></p> -->
                                        <p><b>{{previewData.document}}</b></p>
                                    </div>
                                    <div class="viewDownload">
                                        <button class="theme-btn view-btn cursor-pointer"
                                            (click)="openFile(previewData.path)">
                                            <img src="assets/images/view.svg" alt="/icon">
                                            View
                                        </button>

                                        <button (click)="downloadFile(previewData)" class="theme-btn cursor-pointer"
                                            [ngStyle]="background"><svg width="13" height="11" viewBox="0 0 13 11"
                                                fill="none" xmlns="http://www.w3.org/2000/svg">
                                                <path
                                                    d="M9.37968 9.68519C9.37968 9.56648 9.33631 9.46375 9.24956 9.377C9.16281 9.29025 9.06008 9.24687 8.94136 9.24687C8.82265 9.24687 8.71992 9.29025 8.63317 9.377C8.54642 9.46375 8.50304 9.56648 8.50304 9.68519C8.50304 9.8039 8.54642 9.90664 8.63317 9.99339C8.71992 10.0801 8.82265 10.1235 8.94136 10.1235C9.06008 10.1235 9.16281 10.0801 9.24956 9.99339C9.33631 9.90664 9.37968 9.8039 9.37968 9.68519ZM11.133 9.68519C11.133 9.56648 11.0896 9.46375 11.0028 9.377C10.9161 9.29025 10.8134 9.24687 10.6946 9.24687C10.5759 9.24687 10.4732 9.29025 10.3865 9.377C10.2997 9.46375 10.2563 9.56648 10.2563 9.68519C10.2563 9.8039 10.2997 9.90664 10.3865 9.99339C10.4732 10.0801 10.5759 10.1235 10.6946 10.1235C10.8134 10.1235 10.9161 10.0801 11.0028 9.99339C11.0896 9.90664 11.133 9.8039 11.133 9.68519ZM12.0096 8.15107V10.3427C12.0096 10.5253 11.9457 10.6805 11.8178 10.8084C11.69 10.9362 11.5348 11.0002 11.3521 11.0002H1.27076C1.08813 11.0002 0.93289 10.9362 0.805046 10.8084C0.677203 10.6805 0.613281 10.5253 0.613281 10.3427V8.15107C0.613281 7.96844 0.677203 7.8132 0.805046 7.68536C0.93289 7.55751 1.08813 7.49359 1.27076 7.49359H4.45543L5.38001 8.42502C5.64483 8.68071 5.95531 8.80855 6.31144 8.80855C6.66758 8.80855 6.97806 8.68071 7.24287 8.42502L8.1743 7.49359H11.3521C11.5348 7.49359 11.69 7.55751 11.8178 7.68536C11.9457 7.8132 12.0096 7.96844 12.0096 8.15107ZM9.78376 4.25413C9.86138 4.44133 9.82942 4.60114 9.68788 4.73354L6.61964 7.80179C6.53745 7.88854 6.43472 7.93191 6.31144 7.93191C6.18817 7.93191 6.08543 7.88854 6.00325 7.80179L2.93501 4.73354C2.79347 4.60114 2.76151 4.44133 2.83913 4.25413C2.91674 4.07606 3.05144 3.98703 3.2432 3.98703H4.99648V0.918789C4.99648 0.800077 5.03986 0.697346 5.12661 0.610595C5.21336 0.523844 5.31609 0.480469 5.4348 0.480469H7.18808C7.3068 0.480469 7.40953 0.523844 7.49628 0.610595C7.58303 0.697346 7.6264 0.800077 7.6264 0.918789V3.98703H9.37968C9.57145 3.98703 9.70614 4.07606 9.78376 4.25413Z"
                                                    fill="#565D80" />
                                            </svg> Download</button>
                                    </div>
                                </div>
                                <div class="d-flex align-items-center justify-content-end">
                                    <div class="lead-submit-btn">
                                        <a (click)="onOfficerInfoSubmit()" class="theme-btn cursor-pointer"
                                            [ngStyle]="background">
                                            <span class="">Next</span>
                                            <span class="btn-icon btn-right-icon">
                                                <svg width="5" height="10" viewBox="0 0 5 10" fill="none"
                                                    xmlns="http://www.w3.org/2000/svg">
                                                    <path
                                                        d="M5 5.26331C5 5.42963 4.93752 5.58955 4.81881 5.71748L1.06998 9.55557C0.826304 9.80504 0.426429 9.80504 0.182755 9.55557C-0.0609185 9.30609 -0.0609185 8.8967 0.182755 8.64722L3.49422 5.26331L0.182755 1.8794C-0.0609188 1.62992 -0.0609188 1.22692 0.182755 0.977449C0.426429 0.727974 0.820056 0.727974 1.06373 0.977449L4.81881 4.80914C4.94377 4.93707 5 5.09699 5 5.26331Z"
                                                        fill="white"></path>
                                                </svg>
                                            </span>
                                        </a>
                                    </div>
                                </div>
                            </ng-template>
                        </li>
                        <!--  -->
                        <li class="nav-item" (click)="validateTabChange(3, 'PartnerInfo')" [ngbNavItem]="'PartnerInfo'"
                            [disabled]="true">
                            <a class="nav-link" ngbNavLink data-bs-toggle="tab"
                                [ngStyle]="{'background':tabActive.id =='PartnerInfo'?color:''}">Final Step</a>
                            <ng-template ngbNavContent>
                                <!-- [formGroup]="partnerInfoForm" -->
                                <div class="tab-inner">
                                    <div class="row" [formGroup]="filesForm">
                                        <p><b>Upload ISO Documents</b></p>
                                        <div class="form-group s-participant participants-list"
                                            style="margin-bottom: 40px;margin-left: 7px;">
                                            <label>Required Documents</label>
                                            <div class="row document-type">
                                                <div class="text-center" *ngIf="!docTypes.length">
                                                    <p>No Records Found</p>
                                                </div>
                                                <div *ngFor="let doc of docTypes,let i = index" class="col-12 col-md-3">
                                                    <div class="form-check ">
                                                        <!-- (change)="onChange(participant.id, $event.target,i)" -->
                                                        <input #inputBox onclick="return false;"
                                                            (click)="$event.stopPropagation()" type="checkbox"
                                                            class="form-check-input cursor-pointer"
                                                            [(checked)]="doc.submitted"
                                                            [ngStyle]="{'background-color':doc.toggle?color:'','border-color':doc.toggle?color:''}" />
                                                        <p style="margin-left: 4px;">{{doc.text}}</p>
                                                    </div>

                                                </div>
                                            </div>

                                        </div>
                                        <div>
                                            <div class="add-doc-files" [formGroup]="filesForm">
                                                <div class="docs-inner">
                                                    <div class="row" style="position: relative">
                                                        <div class="col-md-10">
                                                            <div class="upload-image-outer">
                                                                <div class="upload-image">
                                                                    <div class="drag-drop-text">
                                                                        <p>
                                                                            <a>Drag and drop files or add documents</a>
                                                                        </p>
                                                                        <!-- <p>Pending Documents</p> -->
                                                                        <!-- <div class="pending-docs">
                                                                            pendingDocs
                                                                            <ng-container *ngFor="let type of docTypes">
                                                                                <div class="doc">
                                                                                    *ngIf="!type.submitted"
                                                                                    <p>
                                                                                        {{ type.text }}
                                                                                    </p>
                                                                                </div>
                                                                            </ng-container>

                                                                        </div> -->
                                                                        <!-- <ul class="pending-docs" >
                                                                            <ng-container *ngFor="let type of pendingDocs">
                                                                                <li *ngIf="!type.submitted">
                                                                                    {{ type.text }}
                                                                                </li>
                                                                            </ng-container>
                                                                        </ul> -->

                                                                    </div>
                                                                    <input #input multiple="true"
                                                                        (change)="onFileChange($any($event.target).files, input)"
                                                                        type="file" name="myfile" class="upload-file">
                                                                </div>
                                                            </div>
                                                        </div>
                                                        <div class="col-md-2" style="position: relative;">
                                                            <div class="right-add-btns" ngxUiLoaderBlurred
                                                                [loaderId]="'loader1'">
                                                                <ul class="d-flex justify-content-center">
                                                                    <li class="cursor-pointer">
                                                                        <a class=" theme-btn small-btn"
                                                                            *ngIf="!uploading"
                                                                            [ngStyle]="{'background-color':color}"
                                                                            (click)="uploadDocuments()">
                                                                            <svg width="11" height="11"
                                                                                viewBox="0 0 11 11" fill="none"
                                                                                xmlns="http://www.w3.org/2000/svg">
                                                                                <path
                                                                                    d="M10.003 5.50037C10.003 5.87 9.68425 6.17017 9.29041 6.17017H0.712565C0.318718 6.17017 0 5.87018 0 5.50037C0 5.13073 0.318722 4.83057 0.712565 4.83057H9.29041C9.68426 4.83074 10.003 5.13073 10.003 5.50037Z"
                                                                                    fill="white" />
                                                                                <path
                                                                                    d="M5.01079 0.498535C5.38307 0.498535 5.68059 0.818668 5.68059 1.2125L5.66309 9.78899C5.66167 10.1841 5.36046 10.5016 4.99207 10.5016C4.62243 10.5001 4.32227 10.1814 4.32227 9.78759L4.341 1.20974C4.34118 0.816072 4.63975 0.497176 5.0108 0.498579L5.01079 0.498535Z"
                                                                                    fill="white" />
                                                                            </svg>
                                                                            Start Upload
                                                                        </a>
                                                                        <div class="loader-container" *ngIf="uploading">
                                                                            <!-- <ngx-ui-loader [loaderId]="'uploading'"></ngx-ui-loader> -->
                                                                            <!-- <ngx-spinner [fullScreen]="false" bdColor="rgba(0,0,0,0)"
                                                                                color="#000" type="ball-spin-clockwise" name="uploading"
                                                                                size="small"></ngx-spinner> -->
                                                                        </div>
                                                                    </li>
                                                                </ul>
                                                            </div>
                                                            <ngx-ui-loader fgsType="ball-spin-clockwise" [fgsSize]="30"
                                                                overlayColor="rgba(255,255,255,0)"
                                                                [fgsColor]="color"
                                                                [hasProgressBar]="false" [loaderId]="'loader1'">
                                                            </ngx-ui-loader>

                                                        </div>


                                                    </div>

                                                    <div class="row" [formGroup]="filesForm">
                                                        <div class="col-md-12" formArrayName="files">

                                                            <!-- 6-8-22 -->
                                                            <div class="upload-image image-detail-list"
                                                                *ngFor="let file of formFileArray.controls; let i=index">
                                                                <ul class="image-list" [formGroupName]="i">
                                                                    <li>
                                                                        <div class="row">
                                                                            <div class="col-md-3">
                                                                                <div class="image-type">
                                                                                    <p class="img-type-text">
                                                                                        {{
                                                                                        formFileArray.controls[i].get('fileName')?.value}}
                                                                                    </p>
                                                                                </div>
                                                                            </div>
                                                                            <div class="col-md-3">
                                                                                <div class="form-group">
                                                                                    <select
                                                                                        (change)="docsType($any($event.target).value, i)"
                                                                                        name="" id=""
                                                                                        formControlName="doc_type"
                                                                                        class="form-control">
                                                                                        <option value="">--Select Doc
                                                                                            Type--</option>
                                                                                        <ng-container
                                                                                            *ngFor="let type of docTypes">
                                                                                            <option
                                                                                                *ngIf="!type.submitted"
                                                                                                [value]="type.value">{{
                                                                                                type.text }}</option>
                                                                                        </ng-container>

                                                                                    </select>
                                                                                    <div class="invalid-input"
                                                                                        *ngIf="formFileArray.controls[i].get('doc_type')?.errors && formFileArray.controls[i].get('doc_type')?.touched">
                                                                                        <div
                                                                                            *ngIf="formFileArray.controls[i].get('doc_type')?.errors?.required">
                                                                                            Document type is required
                                                                                        </div>

                                                                                    </div>
                                                                                </div>
                                                                            </div>
                                                                            <div class="col-md-2"
                                                                                *ngIf="formFileArray.controls[i].get('doc_type')?.value != '3month_bank_statement'">
                                                                                <div
                                                                                    class="doc-titile-input form-group">
                                                                                    <input type="text"
                                                                                        formControlName="doc_name"
                                                                                        placeholder="Document Title"
                                                                                        class="form-control">
                                                                                    <div class="invalid-input"
                                                                                        *ngIf="formFileArray.controls[i].get('doc_name')?.errors && formFileArray.controls[i].get('doc_name')?.touched">
                                                                                        <div
                                                                                            *ngIf="formFileArray.controls[i].get('doc_name')?.errors?.required">
                                                                                            Document title is required
                                                                                        </div>
                                                                                        <div
                                                                                            *ngIf="formFileArray.controls[i].get('doc_name')?.errors?.pattern">
                                                                                            Invalid document name
                                                                                        </div>
                                                                                        <div
                                                                                            *ngIf="formFileArray.controls[i].get('doc_name')?.errors?.maxlength">
                                                                                            Maximum 100 characters
                                                                                            allowed
                                                                                        </div>
                                                                                        <div
                                                                                            *ngIf="formFileArray.controls[i].get('doc_name')?.errors?.maxlength">
                                                                                            Document name must be
                                                                                            minimum 3 characters long
                                                                                        </div>
                                                                                        <div
                                                                                            *ngIf="formFileArray.controls[i].get('doc_name')?.errors?.minlength">
                                                                                            Document title must be
                                                                                            minimum 3 characters long
                                                                                        </div>
                                                                                    </div>
                                                                                </div>
                                                                            </div>
                                                                            <div class="col-md-2">
                                                                                <div class="dlt-icon">
                                                                                    <a class="delete-btn cursor-pointer"
                                                                                        (click)="removeFileFromArray(i)">
                                                                                        <svg width="11" height="12"
                                                                                            viewBox="0 0 11 12"
                                                                                            fill="none"
                                                                                            xmlns="http://www.w3.org/2000/svg">
                                                                                            <path fill-rule="evenodd"
                                                                                                clip-rule="evenodd"
                                                                                                d="M10.0869 1.82467C10.3 1.82467 10.4774 2.00164 10.4774 2.22683V2.43503C10.4774 2.65473 10.3 2.83718 10.0869 2.83718H1.00635C0.792677 2.83718 0.615234 2.65473 0.615234 2.43503V2.22683C0.615234 2.00164 0.792677 1.82467 1.00635 1.82467H2.60387C2.92839 1.82467 3.2108 1.59401 3.28381 1.26856L3.36747 0.894897C3.49748 0.385903 3.92537 0.0478516 4.41507 0.0478516H6.6776C7.16197 0.0478516 7.59466 0.385903 7.71988 0.86805L7.8094 1.26801C7.88187 1.59401 8.16429 1.82467 8.48933 1.82467H10.0869ZM9.27577 9.43502C9.44256 7.88064 9.73457 4.18783 9.73457 4.15058C9.74523 4.03771 9.70846 3.93087 9.63546 3.84485C9.55713 3.76431 9.45801 3.71664 9.34878 3.71664H1.7491C1.63933 3.71664 1.53489 3.76431 1.46242 3.84485C1.38889 3.93087 1.35265 4.03771 1.35798 4.15058C1.35896 4.15742 1.36944 4.2875 1.38696 4.50497C1.46477 5.47105 1.68152 8.16178 1.82157 9.43502C1.92068 10.373 2.53614 10.9626 3.42762 10.9839C4.11554 10.9998 4.82425 11.0053 5.54894 11.0053C6.23153 11.0053 6.92479 10.9998 7.63403 10.9839C8.55641 10.968 9.17133 10.3889 9.27577 9.43502Z"
                                                                                                fill="#565D80"></path>
                                                                                        </svg>
                                                                                    </a>
                                                                                </div>
                                                                            </div>
                                                                        </div>
                                                                    </li>
                                                                </ul>
                                                            </div>
                                                        </div>
                                                    </div>

                                                </div>
                                            </div>
                                            <div class="table-responsive lead-table">
                                                <table class="table">
                                                    <thead>
                                                        <tr>
                                                            <th scope="col">#</th>
                                                            <th scope="col">Name</th>
                                                            <th scope="col">Type of document</th>
                                                            <th scope="col">Created</th>
                                                            <th scope="col">Action</th>

                                                        </tr>
                                                    </thead>
                                                    <tbody>
                                                        <tr (click)="leadDetailsLink(doc.url)"
                                                            *ngFor="let doc of uploadedDocsList; let i = index"
                                                            class="cursor-pointer">
                                                            <td>{{ i+1 }}</td>
                                                            <td>
                                                                {{ doc.document_name }}
                                                            </td>
                                                            <td>
                                                                {{ doc.document_type }}
                                                            </td>
                                                            <td>
                                                                {{getDate(doc.uploaded_on)}}
                                                            </td>
                                                            <td>
                                                                <div class="dropdown" ngbDropdown (click)="$event.stopPropagation()">
                                                                    <a (click)="$event.stopPropagation()"
                                                                        class="custom-dropdowm dropdown-toggle"
                                                                        data-bs-toggle="dropdown" ngbDropdownToggle>
                                                                        <svg width="14" height="4" viewBox="0 0 14 4"
                                                                            fill="none"
                                                                            xmlns="http://www.w3.org/2000/svg">
                                                                            <path
                                                                                d="M13.4874 0.512567C12.804 -0.170848 11.696 -0.170848 11.0126 0.512567C10.3291 1.19598 10.3291 2.30402 11.0126 2.98744C11.696 3.67085 12.804 3.67085 13.4874 2.98744C14.1709 2.30405 14.1709 1.19601 13.4874 0.512567Z"
                                                                                [ngStyle]="{'fill':color}"
                                                                                fill="#FA5440"></path>
                                                                            <path
                                                                                d="M8.23744 0.512567C7.55402 -0.170848 6.44598 -0.170848 5.76257 0.512567C5.07915 1.19598 5.07915 2.30402 5.76257 2.98744C6.44598 3.67085 7.55402 3.67085 8.23744 2.98744C8.92085 2.30405 8.92085 1.19601 8.23744 0.512567Z"
                                                                                [ngStyle]="{'fill':color}"
                                                                                fill="#FA5440"></path>
                                                                            <path
                                                                                d="M2.98744 0.512567C2.30402 -0.170848 1.19598 -0.170848 0.512564 0.512567C-0.170852 1.19598 -0.170852 2.30402 0.512564 2.98744C1.19598 3.67085 2.30402 3.67085 2.98744 2.98744C3.67085 2.30405 3.67085 1.19601 2.98744 0.512567Z"
                                                                                [ngStyle]="{'fill':color}"
                                                                                fill="#FA5440"></path>
                                                                        </svg>
                                                                    </a>
                                                                    <ul class="dropdown-menu custom-dropdown-menu"
                                                                        style="position: absolute;
                                                                    inset: 0px 0px auto auto;
                                                                    margin: 0px;
                                                                    transform: translate(0px, 25px);" ngbDropdownMenu>
                                                                        <li>
                                                                            <a [href]="doc.url" target="_blank"
                                                                                ngbDropdownItem
                                                                                class="dropdown-item item-view table-dropdown-item view cursor-pointer"><img
                                                                                    src="assets/images/view.svg"
                                                                                    alt="/icon">View</a>
                                                                        </li>
                                                                        <li>
                                                                            <a (confirm)="documentsDelete(doc.document_id);
                                                                            $event.stopPropagation()
                                                                            " [swal]="{
                                                                              title: 'Are you sure to delete?',
                                                                              text: 'You will not be able to revert this!',
                                                                              icon: 'warning',
                                                                              showCancelButton: true,
                                                                              confirmButtonColor: color,
                                                                              confirmButtonText: 'Yes, delete it!'
                                                                            }" ngbDropdownItem
                                                                                class="dropdown-item item-view table-dropdown-item delete cursor-pointer"><img
                                                                                    src="assets/images/delete.svg"
                                                                                    alt="/icon" />Delete</a>
                                                                        </li>
                                                                    </ul>
                                                                </div>

                                                            </td>
                                                        </tr>
                                                        <tr *ngIf="!uploadedDocsList.length">
                                                            <td colspan="5" class="text-center">No Records Found</td>
                                                        </tr>
                                                    </tbody>
                                                </table>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="d-flex align-items-center justify-content-end">
                                    <div class="lead-submit-btn">
                                        <a (click)="onPartnerInfoSubmit()" class="theme-btn cursor-pointer"
                                            [ngStyle]="background">
                                            <span class="">Submit</span>
                                            <span class="btn-icon btn-right-icon">
                                                <svg width="5" height="10" viewBox="0 0 5 10" fill="none"
                                                    xmlns="http://www.w3.org/2000/svg">
                                                    <path
                                                        d="M5 5.26331C5 5.42963 4.93752 5.58955 4.81881 5.71748L1.06998 9.55557C0.826304 9.80504 0.426429 9.80504 0.182755 9.55557C-0.0609185 9.30609 -0.0609185 8.8967 0.182755 8.64722L3.49422 5.26331L0.182755 1.8794C-0.0609188 1.62992 -0.0609188 1.22692 0.182755 0.977449C0.426429 0.727974 0.820056 0.727974 1.06373 0.977449L4.81881 4.80914C4.94377 4.93707 5 5.09699 5 5.26331Z"
                                                        fill="white"></path>
                                                </svg>
                                            </span>
                                        </a>
                                    </div>
                                </div>
                            </ng-template>
                        </li>
                    </ul>
                    <div class="tab-content">
                        <div id="lead" class="tab-pane active">
                            <div [ngbNavOutlet]="nav"></div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</main>