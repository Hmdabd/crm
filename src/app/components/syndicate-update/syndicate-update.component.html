<main class="dashboard-wrapper">
    <div class="container">
        <div class="craete-lead-wrapper">
            <div class="page-header">
                <h3 (click)="goBack()" class="page-title cursor-pointer">
                    <span>
                        <svg width="5" height="9" viewBox="0 0 5 9" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path
                                d="M-9.79475e-05 4.47979C-9.79402e-05 4.31342 0.0624016 4.15345 0.181152 4.02547L3.93115 0.186189C4.1749 -0.063365 4.5749 -0.063365 4.81865 0.186189C5.0624 0.435742 5.0624 0.845266 4.81865 1.09482L1.50615 4.47979L4.81865 7.86476C5.0624 8.11431 5.0624 8.51744 4.81865 8.76699C4.5749 9.01654 4.18115 9.01654 3.9374 8.76699L0.181152 4.9341C0.0561517 4.80613 -9.79548e-05 4.64616 -9.79475e-05 4.47979Z"
                                fill="#565D80" />
                        </svg> </span>View & Edit Syndicate
                </h3>
            </div>
            <div class="create-laed-content" [ngStyle]="{ display: tabView ? 'block' : 'none' }" *ngIf="tabView">
                <div class="tab-view">
                    <ul class="step-listing">
                        <li [ngClass]="{ active: tabActive.number > 1 }"><a
                                [ngStyle]="{'background-color':color,'border-color':color,'color':'white'}">1</a>
                            <div class="list-after"
                                [ngStyle]="{'background':tabActive.number >1?color:'white','border-color':color}">
                            </div>
                        </li>
                        <li [ngClass]="{ active: tabActive.number > 2 }"><a
                                [ngStyle]="{'background-color':color,'border-color':color,'color':'white'}">2</a>
                            <div class="list-after"
                                [ngStyle]="{'background':tabActive.number >2?color:'white','border-color':color}">
                            </div>
                        </li>
                        <li [ngClass]="{ active: tabActive.number > 3 }"><a
                                [ngStyle]="{'background-color':color,'border-color':color,'color':'white'}">3</a></li>
                    </ul>
                </div>
                <div class="tab-wrapper">
                    <ul ngbNav #nav="ngbNav" [(activeId)]="tabActive.id" class="nav nav-tabs" role="tablist">
                        <li (click)="validateTabChange(1, 'LeadDetails')" class="nav-item" [ngbNavItem]="'LeadDetails'"
                            [disabled]="true">
                            <a class="nav-link" ngbNavLink data-bs-toggle="tab"
                                [ngStyle]="{'background':tabActive.id =='LeadDetails'?color:''}">Step 1</a>
                            <ng-template ngbNavContent>
                                <ng-container [formGroup]="addUserForm">
                                    <div class="tab-inner">
                                        <div class="row">
                                            <!-- <div class="add-doc-files">
                                                <div class="docs-inner">
                                                    <div class="row">
                                                        <div class="col-md-12">
                                                            <div class="upload-image-outer">
                                                                <div class="upload-image">
                                                                    <div class="drag-drop-text">
                                                                        <p><a>Drag and drop files or add documents</a></p>
                                                                    </div>
                                                                    <input #input multiple="true"
                                                                        (change)="onFileChange($any($event.target).files, input)"
                                                                        type="file" name="myfile" class="upload-file">
                                                                </div>
                                                            </div>
                                                        </div>
        
                                                    </div>
        
        
                                                    <div class="row" [formGroup]="filesForm">
                                                        <div class="col-md-12" formArrayName="files">
        
        
                                                            <div class="upload-image image-detail-list"
                                                                *ngFor="let file of formFileArray.controls; let i=index">
                                                                <ul class="image-list" [formGroupName]="i">
                                                                    <li>
                                                                        <div class="row">
                                                                            <div class="col-md-4">
                                                                                <div class="image-type">
                                                                                    <p class="img-type-text">
                                                                                        {{
                                                                                        formFileArray.controls[i].get('fileName')?.value}}
                                                                                    </p>
                                                                                </div>
                                                                            </div>
                                                                            <div class="col-md-4">
                                                                                <div class="doc-titile-input">
                                                                                    <input type="text"
                                                                                        formControlName="doc_name"
                                                                                        placeholder="Document Title"
                                                                                        class="form-control">
                                                                                    <div class="invalid-input"
                                                                                        *ngIf="formFileArray.controls[i].get('doc_name')?.errors && formFileArray.controls[i].get('doc_name')?.touched">
                                                                                        <div
                                                                                            *ngIf="formFileArray.controls[i].get('doc_name')?.errors?.required">
                                                                                            Document title is required
                                                                                        </div>
                                                                                        <div
                                                                                            *ngIf="formFileArray.controls[i].get('doc_name')?.errors?.pattern">
                                                                                            Invalid document title
                                                                                        </div>
                                                                                        <div
                                                                                            *ngIf="formFileArray.controls[i].get('doc_name')?.errors?.minlength">
                                                                                            document title must be minimum 3
                                                                                            characters long
                                                                                        </div>
                                                                                        <div
                                                                                            *ngIf="formFileArray.controls[i].get('doc_name')?.errors?.maxlength">
                                                                                            Maximum 100 characters allowed
                                                                                        </div>
                                                                                    </div>
                                                                                </div>
                                                                            </div>
        
                                                                            <div class="col-md-4">
                                                                                <div class="dlt-icon cursor-pointer"
                                                                                    (click)="removeFileFromArray(i)">
                                                                                    <a class="delete-btn">
                                                                                        <svg width="11" height="12"
                                                                                            viewBox="0 0 11 12" fill="none"
                                                                                            xmlns="http://www.w3.org/2000/svg">
                                                                                            <path fill-rule="evenodd"
                                                                                                clip-rule="evenodd"
                                                                                                d="M10.0869 1.82467C10.3 1.82467 10.4774 2.00164 10.4774 2.22683V2.43503C10.4774 2.65473 10.3 2.83718 10.0869 2.83718H1.00635C0.792677 2.83718 0.615234 2.65473 0.615234 2.43503V2.22683C0.615234 2.00164 0.792677 1.82467 1.00635 1.82467H2.60387C2.92839 1.82467 3.2108 1.59401 3.28381 1.26856L3.36747 0.894897C3.49748 0.385903 3.92537 0.0478516 4.41507 0.0478516H6.6776C7.16197 0.0478516 7.59466 0.385903 7.71988 0.86805L7.8094 1.26801C7.88187 1.59401 8.16429 1.82467 8.48933 1.82467H10.0869ZM9.27577 9.43502C9.44256 7.88064 9.73457 4.18783 9.73457 4.15058C9.74523 4.03771 9.70846 3.93087 9.63546 3.84485C9.55713 3.76431 9.45801 3.71664 9.34878 3.71664H1.7491C1.63933 3.71664 1.53489 3.76431 1.46242 3.84485C1.38889 3.93087 1.35265 4.03771 1.35798 4.15058C1.35896 4.15742 1.36944 4.2875 1.38696 4.50497C1.46477 5.47105 1.68152 8.16178 1.82157 9.43502C1.92068 10.373 2.53614 10.9626 3.42762 10.9839C4.11554 10.9998 4.82425 11.0053 5.54894 11.0053C6.23153 11.0053 6.92479 10.9998 7.63403 10.9839C8.55641 10.968 9.17133 10.3889 9.27577 9.43502Z"
                                                                                                fill="#565D80"></path>
                                                                                        </svg>
                                                                                    </a>
                                                                                </div>
                                                                            </div>
                                                                        </div>
                                                                    </li>
                                                                </ul>
                                                            </div>
        
                                                        </div>
                                                    </div>
        
                                                </div>
                                            </div> -->
                                            <div class="col-12 col-sm-6 col-md-6 col-lg-4 col-xl-3">
                                                <div class="form-group">
                                                    <label>First Name*</label>
                                                    <input formControlName="first_name" type="text"
                                                        placeholder="Enter first name" class="form-control" />
                                                    <div class="invalid-input"
                                                        *ngIf="f.first_name.errors && f.first_name.touched">
                                                        <div *ngIf="f.first_name.errors.required">
                                                            First name is required
                                                        </div>
                                                        <div *ngIf="f.first_name.errors.pattern">
                                                            Invalid first_name
                                                        </div>
                                                        <div *ngIf="f.first_name.errors.maxlength">
                                                            Maximum 100 characters allowed
                                                        </div>
                                                        <div *ngIf="f.first_name.errors.minlength">
                                                            First name must be minimum 3 characters long
                                                        </div>

                                                    </div>
                                                </div>
                                            </div>
                                            <div class="col-12 col-sm-6 col-md-6 col-lg-4 col-xl-3">
                                                <div class="form-group">
                                                    <label>Last Name*</label>
                                                    <input formControlName="last_name" type="text"
                                                        placeholder="Enter last name" class="form-control" />
                                                    <div class="invalid-input"
                                                        *ngIf="f.last_name.errors && f.last_name.touched">
                                                        <div *ngIf="f.last_name.errors.required">
                                                            Last name is required
                                                        </div>
                                                        <div *ngIf="f.last_name.errors.pattern">
                                                            Invalid last name
                                                        </div>
                                                        <div *ngIf="f.last_name.errors.maxlength">
                                                            Maximum 100 characters allowed
                                                        </div>
                                                        <div *ngIf="f.last_name.errors.minlength">
                                                            Last name must be minimum 3 characters long
                                                        </div>

                                                    </div>
                                                </div>
                                            </div>
                                            <div class="col-12 col-sm-6 col-md-6 col-lg-4 col-xl-3">
                                                <div class="form-group">
                                                    <label>Company Name*</label>
                                                    <input formControlName="company_name" type="text"
                                                        placeholder="Enter company name" class="form-control" />
                                                    <div class="invalid-input"
                                                        *ngIf="f.company_name.errors && f.company_name.touched">
                                                        <div *ngIf="f.company_name.errors.required">
                                                            Company name is required
                                                        </div>
                                                        <div *ngIf="f.company_name.errors.pattern">
                                                            Invalid company name
                                                        </div>
                                                        <div *ngIf="f.company_name.errors.maxlength">
                                                            Maximum 100 characters allowed
                                                        </div>
                                                        <div *ngIf="f.company_name.errors.minlength">
                                                            Company name must be minimum 3 characters long
                                                        </div>

                                                    </div>
                                                </div>
                                            </div>
                                            <!-- honeypot prevents chrome user autofill bs-->
                                            <div style="height:0; overflow:hidden;display: none;">
                                                <input style="opacity:0;" type="email" value="" class="" />
                                                <input style="opacity:0;" type="password" value="" class="d-" />
                                            </div>
                                            <!-- end  honeypot-->
                                            <div class="col-12 col-sm-6 col-md-6 col-lg-4 col-xl-3">
                                                <div class="form-group">
                                                    <label>Email*</label>
                                                    <input formControlName="email" type="email"
                                                        placeholder="Enter email" class="form-control" id="gets"
                                                        name="gets" autocomplete="off" />
                                                    <div class="invalid-input"
                                                        *ngIf="f.email.errors && f.email.touched">
                                                        <div *ngIf="f.email.errors.required">
                                                            Email is required
                                                        </div>
                                                        <div *ngIf="f.email.errors.pattern">
                                                            Invalid email
                                                        </div>

                                                    </div>
                                                </div>
                                            </div>
                                            <div class="col-12 col-sm-6 col-md-6 col-lg-4 col-xl-3">
                                                <div class="form-group">
                                                    <label>Phone Number*</label>
                                                    <input [mask]="mask.phone" formControlName="phone_number"
                                                        type="text" placeholder="(xxx) xxx-xxxx" class="form-control" />
                                                    <div class="invalid-input"
                                                        *ngIf="f.phone_number.errors && f.phone_number.touched">
                                                        <div *ngIf="f.phone_number.errors.required">
                                                            Phone number is required
                                                        </div>
                                                        <div *ngIf="f.phone_number.errors.pattern">
                                                            Invalid phone number
                                                        </div>
                                                        <div *ngIf="f.phone_number.errors.mask">
                                                            Invalid phone number
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="col-12 col-sm-6 col-md-6 col-lg-4 col-xl-3">
                                                <div class="form-group">
                                                    <label>Status*</label>
                                                    <select class="form-control" formControlName="status">
                                                        <option value="1">Active</option>
                                                        <option value="0">Inactive</option>
                                                    </select>

                                                    <div class="invalid-input"
                                                        *ngIf="f.status.errors && f.status.touched">
                                                        <div *ngIf="f.status.errors.required">
                                                            Status is required
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                            <!-- <div class="col-12 col-sm-6 col-md-6 col-lg-4 col-xl-3">
                                                <div class="form-group">
                                                    <label>Syndicate Fee %*</label>
                                                    <input (change)="changeSyndicateFee($any($event.target).value)"
                                                        formControlName="syndication_fee" type="text"
                                                        placeholder="Enter syndicate fee" class="form-control"
                                                        maxlength="5" />
                                                    <div class="invalid-input"
                                                        *ngIf="f.syndication_fee.errors && f.syndication_fee.touched">
                                                        <div *ngIf="f.syndication_fee.errors.required">
                                                            Syndicate fee is required
                                                        </div>
                                                        <div *ngIf="f.syndication_fee.errors.pattern">
                                                            Invalid syndicate fee
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="col-12 col-sm-6 col-md-6 col-lg-4 col-xl-3">
                                                <div class="form-group">
                                                    <label>Management Fee %*</label>
                                                    <input (change)="changeManagementFee($any($event.target).value)"
                                                        formControlName="management_fee" type="text"
                                                        placeholder="Enter management fee" class="form-control"
                                                        maxlength="5" />
                                                    <div class="invalid-input"
                                                        *ngIf="f.management_fee.errors && f.management_fee.touched">
                                                        <div *ngIf="f.management_fee.errors.required">
                                                            Management fee is required
                                                        </div>
                                                        <div *ngIf="f.management_fee.errors.pattern">
                                                            Invalid management fee
                                                        </div>
                                                    </div>
                                                </div>
                                            </div> -->
                                            <div class="col-12 col-sm-6 col-md-6 col-lg-4 col-xl-3">
                                                <div class="form-group">
                                                    <label>EIN</label>
                                                    <input [mask]="mask.federal_tax_id" type="tel"
                                                        placeholder="00-0000000" formControlName="ein" type="text"
                                                        class="form-control" />
                                                    <div class="invalid-input" *ngIf="f.ein.errors && f.ein.touched">
                                                        <div *ngIf="f.ein.errors.pattern">
                                                            Invalid ein
                                                        </div>
                                                    </div>
                                                </div>

                                            </div>
                                            <div class="col-12 col-sm-6 col-md-6 col-lg-4 col-xl-3">
                                                <div class="form-group">
                                                    <label>MPA Signed Date</label>
                                                    <div class="input-group">
                                                        <input #dob formControlName="mpa_signed_date" type="text"
                                                            class="form-control" placeholder="mpa signed date" />
                                                        <span class="input-group-text">
                                                            <svg width="15" height="15" viewBox="0 0 15 15" fill="none"
                                                                xmlns="http://www.w3.org/2000/svg">
                                                                <path
                                                                    d="M7.5 9C7.64834 9 7.79334 8.95601 7.91668 8.8736C8.04002 8.79119 8.13614 8.67406 8.19291 8.53701C8.24968 8.39997 8.26453 8.24917 8.23559 8.10368C8.20665 7.9582 8.13522 7.82456 8.03033 7.71967C7.92544 7.61478 7.7918 7.54335 7.64632 7.51441C7.50083 7.48547 7.35003 7.50032 7.21299 7.55709C7.07594 7.61386 6.95881 7.70999 6.8764 7.83332C6.79399 7.95666 6.75 8.10166 6.75 8.25C6.75 8.44891 6.82902 8.63968 6.96967 8.78033C7.11032 8.92098 7.30109 9 7.5 9ZM11.25 9C11.3983 9 11.5433 8.95601 11.6667 8.8736C11.79 8.79119 11.8861 8.67406 11.9429 8.53701C11.9997 8.39997 12.0145 8.24917 11.9856 8.10368C11.9566 7.9582 11.8852 7.82456 11.7803 7.71967C11.6754 7.61478 11.5418 7.54335 11.3963 7.51441C11.2508 7.48547 11.1 7.50032 10.963 7.55709C10.8259 7.61386 10.7088 7.70999 10.6264 7.83332C10.544 7.95666 10.5 8.10166 10.5 8.25C10.5 8.44891 10.579 8.63968 10.7197 8.78033C10.8603 8.92098 11.0511 9 11.25 9ZM7.5 12C7.64834 12 7.79334 11.956 7.91668 11.8736C8.04002 11.7912 8.13614 11.6741 8.19291 11.537C8.24968 11.4 8.26453 11.2492 8.23559 11.1037C8.20665 10.9582 8.13522 10.8246 8.03033 10.7197C7.92544 10.6148 7.7918 10.5434 7.64632 10.5144C7.50083 10.4855 7.35003 10.5003 7.21299 10.5571C7.07594 10.6139 6.95881 10.71 6.8764 10.8333C6.79399 10.9567 6.75 11.1017 6.75 11.25C6.75 11.4489 6.82902 11.6397 6.96967 11.7803C7.11032 11.921 7.30109 12 7.5 12ZM11.25 12C11.3983 12 11.5433 11.956 11.6667 11.8736C11.79 11.7912 11.8861 11.6741 11.9429 11.537C11.9997 11.4 12.0145 11.2492 11.9856 11.1037C11.9566 10.9582 11.8852 10.8246 11.7803 10.7197C11.6754 10.6148 11.5418 10.5434 11.3963 10.5144C11.2508 10.4855 11.1 10.5003 10.963 10.5571C10.8259 10.6139 10.7088 10.71 10.6264 10.8333C10.544 10.9567 10.5 11.1017 10.5 11.25C10.5 11.4489 10.579 11.6397 10.7197 11.7803C10.8603 11.921 11.0511 12 11.25 12ZM3.75 9C3.89834 9 4.04334 8.95601 4.16668 8.8736C4.29001 8.79119 4.38614 8.67406 4.44291 8.53701C4.49968 8.39997 4.51453 8.24917 4.48559 8.10368C4.45665 7.9582 4.38522 7.82456 4.28033 7.71967C4.17544 7.61478 4.0418 7.54335 3.89632 7.51441C3.75083 7.48547 3.60003 7.50032 3.46299 7.55709C3.32594 7.61386 3.20881 7.70999 3.1264 7.83332C3.04399 7.95666 3 8.10166 3 8.25C3 8.44891 3.07902 8.63968 3.21967 8.78033C3.36032 8.92098 3.55109 9 3.75 9ZM12.75 1.5H12V0.75C12 0.551088 11.921 0.360322 11.7803 0.21967C11.6397 0.0790176 11.4489 0 11.25 0C11.0511 0 10.8603 0.0790176 10.7197 0.21967C10.579 0.360322 10.5 0.551088 10.5 0.75V1.5H4.5V0.75C4.5 0.551088 4.42098 0.360322 4.28033 0.21967C4.13968 0.0790176 3.94891 0 3.75 0C3.55109 0 3.36032 0.0790176 3.21967 0.21967C3.07902 0.360322 3 0.551088 3 0.75V1.5H2.25C1.65326 1.5 1.08097 1.73705 0.65901 2.15901C0.237053 2.58097 0 3.15326 0 3.75V12.75C0 13.3467 0.237053 13.919 0.65901 14.341C1.08097 14.7629 1.65326 15 2.25 15H12.75C13.3467 15 13.919 14.7629 14.341 14.341C14.7629 13.919 15 13.3467 15 12.75V3.75C15 3.15326 14.7629 2.58097 14.341 2.15901C13.919 1.73705 13.3467 1.5 12.75 1.5ZM13.5 12.75C13.5 12.9489 13.421 13.1397 13.2803 13.2803C13.1397 13.421 12.9489 13.5 12.75 13.5H2.25C2.05109 13.5 1.86032 13.421 1.71967 13.2803C1.57902 13.1397 1.5 12.9489 1.5 12.75V6H13.5V12.75ZM13.5 4.5H1.5V3.75C1.5 3.55109 1.57902 3.36032 1.71967 3.21967C1.86032 3.07902 2.05109 3 2.25 3H12.75C12.9489 3 13.1397 3.07902 13.2803 3.21967C13.421 3.36032 13.5 3.55109 13.5 3.75V4.5ZM3.75 12C3.89834 12 4.04334 11.956 4.16668 11.8736C4.29001 11.7912 4.38614 11.6741 4.44291 11.537C4.49968 11.4 4.51453 11.2492 4.48559 11.1037C4.45665 10.9582 4.38522 10.8246 4.28033 10.7197C4.17544 10.6148 4.0418 10.5434 3.89632 10.5144C3.75083 10.4855 3.60003 10.5003 3.46299 10.5571C3.32594 10.6139 3.20881 10.71 3.1264 10.8333C3.04399 10.9567 3 11.1017 3 11.25C3 11.4489 3.07902 11.6397 3.21967 11.7803C3.36032 11.921 3.55109 12 3.75 12Z"
                                                                    fill="#565D80"></path>
                                                            </svg>
                                                        </span>
                                                    </div>
                                                    <div class="invalid-input"
                                                        *ngIf="f.mpa_signed_date.errors && f.mpa_signed_date.touched">
                                                        <div *ngIf="f.mpa_signed_date.errors.required">
                                                            Mpa signed date is required
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                            <p class="label"><b>Address</b></p>
                                            <div class="col-12 col-sm-6 col-md-6 col-lg-4 col-xl-3" *ngIf="isApiLoaded">
                                                <div class="form-group">
                                                    <label>Street Address</label>
                                                    <input type="text" id="searchAddress" name="searchAddress"
                                                        formControlName="address" placeholder="Enter Street Address"
                                                        class="form-control" ngx-google-places-autocomplete
                                                        #placesRef="ngx-places"
                                                        (onAddressChange)="handleAddressChange($event)">
                                                    <div class="invalid-input"
                                                        *ngIf="f.address.errors && f.address.touched">
                                                        <div *ngIf="f.address.errors.required">
                                                            Street address is required
                                                        </div>
                                                        <div *ngIf="f.address.errors.pattern">
                                                            Invalid street address
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="col-12 col-sm-6 col-md-6 col-lg-4 col-xl-3">
                                                <div class="form-group">
                                                    <label>Street Address 2</label>
                                                    <input type="text" id="searchAddress" name="searchAddress"
                                                        formControlName="other_address"
                                                        placeholder="Enter Street Address 2" class="form-control">
                                                    <div class="invalid-input"
                                                        *ngIf="f.other_address.errors && f.other_address.touched">
                                                        <div *ngIf="f.other_address.errors.required">
                                                            Street address 2 is required
                                                        </div>
                                                        <div *ngIf="f.other_address.errors.pattern">
                                                            Invalid street address 2
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>

                                            <div class="col-12 col-sm-6 col-md-6 col-lg-4 col-xl-3">
                                                <div class="form-group">
                                                    <label>City</label>
                                                    <input formControlName="city" type="text" placeholder="City"
                                                        class="form-control" />
                                                    <div class="invalid-input" *ngIf="f.city.errors && f.city.touched">
                                                        <div *ngIf="f.city.errors.pattern">
                                                            Invalid city
                                                        </div>
                                                        <div *ngIf="f.city.errors.maxlength">
                                                            Maximum 100 characters allowed
                                                        </div>
                                                        <div *ngIf="f.city.errors.minlength">
                                                            City name must be minimum 3 characters long
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>

                                            <div class="col-12 col-sm-6 col-md-6 col-lg-4 col-xl-3">
                                                <div class="form-group">
                                                    <label>State</label>
                                                    <select formControlName="state_id" class="form-control" name=""
                                                        id="country">
                                                        <option value="">--Select State--</option>
                                                        <option [value]="state.id" *ngFor="let state of statesList">{{
                                                            state.name }}</option>
                                                    </select>
                                                </div>
                                            </div>

                                            <div class="col-12 col-sm-6 col-md-6 col-lg-4 col-xl-3">
                                                <div class="form-group">
                                                    <label>Zip Code</label>
                                                    <input formControlName="zip_code" type="text" placeholder="Zip code"
                                                        class="form-control" />
                                                    <div class="invalid-input"
                                                        *ngIf="f.zip_code.errors && f.zip_code.touched">
                                                        <div *ngIf="f.zip_code.errors.pattern">
                                                            Invalid zip code
                                                        </div>
                                                    </div>
                                                </div>

                                            </div>
                                            <div class="col-12 col-sm-6 col-md-6 col-lg-4 col-xl-3">
                                                <div class="form-group">
                                                    <label>Country</label>
                                                    <select (change)="onCountryChange($any($event.target).value)"
                                                        formControlName="country_id" class="form-control" name=""
                                                        id="country">
                                                        <option [value]="country.id"
                                                            *ngFor="let country of countriesList">{{
                                                            country.name }}</option>
                                                    </select>
                                                    <div class="invalid-input"
                                                        *ngIf="f.country_id.errors && f.country_id.touched">
                                                        <div *ngIf="f.country_id.errors.required">
                                                            Country is required
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                            <p class="label"><b>Bank Details</b></p>
                                            <div class="col-12 col-sm-6 col-md-6 col-lg-4 col-xl-3">
                                                <div class="form-group">
                                                    <label>Bank Name</label>
                                                    <input formControlName="bank_reference_name" type="text"
                                                        placeholder="Enter bank name" class="form-control" />
                                                    <div class="invalid-input"
                                                        *ngIf="f.bank_reference_name.errors && f.bank_reference_name.touched">
                                                        <div *ngIf="f.bank_reference_name.errors.pattern">
                                                            Invalid bank name
                                                        </div>
                                                    </div>
                                                </div>

                                            </div>
                                            <div class="col-12 col-sm-6 col-md-6 col-lg-4 col-xl-3">
                                                <div class="form-group">
                                                    <label>Routing Number</label>
                                                    <input formControlName="routing_number" type="text"
                                                        placeholder="Enter routing number" class="form-control" />
                                                    <div class="invalid-input"
                                                        *ngIf="f.routing_number.errors && f.routing_number.touched">
                                                        <div *ngIf="f.routing_number.errors.pattern">
                                                            Invalid routing number
                                                        </div>
                                                    </div>
                                                </div>

                                            </div>
                                            <div class="col-12 col-sm-6 col-md-6 col-lg-4 col-xl-3">
                                                <div class="form-group">
                                                    <label>Account Number</label>
                                                    <input formControlName="account_number" type="text"
                                                        placeholder="Enter account number" class="form-control" />
                                                    <div class="invalid-input"
                                                        *ngIf="f.account_number.errors && f.account_number.touched">
                                                        <div *ngIf="f.account_number.errors.pattern">
                                                            Invalid account number
                                                        </div>
                                                    </div>
                                                </div>

                                            </div>
                                            <div class="col-12 col-sm-6 col-md-6 col-lg-4 col-xl-3">
                                                <div class="form-group">
                                                    <label>Report Email Addresses</label>
                                                    <input formControlName="report_email" type="email"
                                                        placeholder="Enter Report Email Addresses"
                                                        class="form-control" />
                                                    <div class="invalid-input"
                                                        *ngIf="f.report_email.errors && f.report_email.touched">
                                                        <div *ngIf="f.report_email.errors.required">
                                                            Report email addresses is required
                                                        </div>
                                                        <div *ngIf="f.report_email.errors.pattern">
                                                            Invalid report email addresses
                                                        </div>

                                                    </div>
                                                </div>
                                            </div>
                                            <div class="col-12 text-end">
                                                <a (click)="addUserSubmit()" [ngStyle]="background"
                                                    class="theme-btn cursor-pointer">
                                                    <span class="">Next</span>
                                                    <span class="btn-icon btn-right-icon">
                                                        <svg width="5" height="10" viewBox="0 0 5 10" fill="none"
                                                            xmlns="http://www.w3.org/2000/svg">
                                                            <path
                                                                d="M5 5.26331C5 5.42963 4.93752 5.58955 4.81881 5.71748L1.06998 9.55557C0.826304 9.80504 0.426429 9.80504 0.182755 9.55557C-0.0609185 9.30609 -0.0609185 8.8967 0.182755 8.64722L3.49422 5.26331L0.182755 1.8794C-0.0609188 1.62992 -0.0609188 1.22692 0.182755 0.977449C0.426429 0.727974 0.820056 0.727974 1.06373 0.977449L4.81881 4.80914C4.94377 4.93707 5 5.09699 5 5.26331Z"
                                                                fill="white" />
                                                        </svg>

                                                    </span>
                                                </a>
                                            </div>
                                        </div>
                                    </div>
                                </ng-container>
                            </ng-template>
                        </li>
                        <!-- [disabled]="true" -->
                        <li class="nav-item" (click)="step2Tab()" [ngbNavItem]="'OfficerInfo'">
                            <a class="nav-link" ngbNavLink data-bs-toggle="tab"
                                [ngStyle]="{'background':tabActive.id =='OfficerInfo'?color:''}">Step 2</a>
                            <ng-template ngbNavContent>
                                <div class="tab-inner">
                                    <div class="viewDownload">
                                        <!-- <p><b>Master Participation Agreement Document</b></p> -->
                                        <p><b>{{previewData.document}}</b></p>
                                    </div>
                                    <div class="viewDownload">
                                        <button class="theme-btn view-btn cursor-pointer"
                                            (click)="openFile(previewData.path)">
                                            <img src="assets/images/view.svg" alt="/icon">
                                            View
                                        </button>

                                        <button (click)="downloadFile(previewData)" class="theme-btn cursor-pointer"
                                            [ngStyle]="background"><svg width="13" height="11" viewBox="0 0 13 11"
                                                fill="none" xmlns="http://www.w3.org/2000/svg">
                                                <path
                                                    d="M9.37968 9.68519C9.37968 9.56648 9.33631 9.46375 9.24956 9.377C9.16281 9.29025 9.06008 9.24687 8.94136 9.24687C8.82265 9.24687 8.71992 9.29025 8.63317 9.377C8.54642 9.46375 8.50304 9.56648 8.50304 9.68519C8.50304 9.8039 8.54642 9.90664 8.63317 9.99339C8.71992 10.0801 8.82265 10.1235 8.94136 10.1235C9.06008 10.1235 9.16281 10.0801 9.24956 9.99339C9.33631 9.90664 9.37968 9.8039 9.37968 9.68519ZM11.133 9.68519C11.133 9.56648 11.0896 9.46375 11.0028 9.377C10.9161 9.29025 10.8134 9.24687 10.6946 9.24687C10.5759 9.24687 10.4732 9.29025 10.3865 9.377C10.2997 9.46375 10.2563 9.56648 10.2563 9.68519C10.2563 9.8039 10.2997 9.90664 10.3865 9.99339C10.4732 10.0801 10.5759 10.1235 10.6946 10.1235C10.8134 10.1235 10.9161 10.0801 11.0028 9.99339C11.0896 9.90664 11.133 9.8039 11.133 9.68519ZM12.0096 8.15107V10.3427C12.0096 10.5253 11.9457 10.6805 11.8178 10.8084C11.69 10.9362 11.5348 11.0002 11.3521 11.0002H1.27076C1.08813 11.0002 0.93289 10.9362 0.805046 10.8084C0.677203 10.6805 0.613281 10.5253 0.613281 10.3427V8.15107C0.613281 7.96844 0.677203 7.8132 0.805046 7.68536C0.93289 7.55751 1.08813 7.49359 1.27076 7.49359H4.45543L5.38001 8.42502C5.64483 8.68071 5.95531 8.80855 6.31144 8.80855C6.66758 8.80855 6.97806 8.68071 7.24287 8.42502L8.1743 7.49359H11.3521C11.5348 7.49359 11.69 7.55751 11.8178 7.68536C11.9457 7.8132 12.0096 7.96844 12.0096 8.15107ZM9.78376 4.25413C9.86138 4.44133 9.82942 4.60114 9.68788 4.73354L6.61964 7.80179C6.53745 7.88854 6.43472 7.93191 6.31144 7.93191C6.18817 7.93191 6.08543 7.88854 6.00325 7.80179L2.93501 4.73354C2.79347 4.60114 2.76151 4.44133 2.83913 4.25413C2.91674 4.07606 3.05144 3.98703 3.2432 3.98703H4.99648V0.918789C4.99648 0.800077 5.03986 0.697346 5.12661 0.610595C5.21336 0.523844 5.31609 0.480469 5.4348 0.480469H7.18808C7.3068 0.480469 7.40953 0.523844 7.49628 0.610595C7.58303 0.697346 7.6264 0.800077 7.6264 0.918789V3.98703H9.37968C9.57145 3.98703 9.70614 4.07606 9.78376 4.25413Z"
                                                    fill="#565D80" />
                                            </svg> Download</button>

                                    </div>
                                    <div class="col-12 col-sm-6 col-md-6 col-lg-4 col-xl-3  owner-signature">
                                        <div class="form-group">
                                            <label></label>
                                            <a class="theme-btn cursor-pointer mx-2"
                                                [ngClass]="{'green-btn': customerSign}" (click)="openModel(sign)"
                                                [ngStyle]="{'background-color':!customerSign?color:''}">
                                                Signature</a>

                                        </div>
                                    </div>
                                </div>
                                <div class="d-flex align-items-center justify-content-end">
                                    <div class="lead-submit-btn">
                                        <a (click)="onStepTwoSubmit()" class="theme-btn cursor-pointer"
                                            [ngStyle]="background">
                                            <span class="">Next</span>
                                            <span class="btn-icon btn-right-icon">
                                                <svg width="5" height="10" viewBox="0 0 5 10" fill="none"
                                                    xmlns="http://www.w3.org/2000/svg">
                                                    <path
                                                        d="M5 5.26331C5 5.42963 4.93752 5.58955 4.81881 5.71748L1.06998 9.55557C0.826304 9.80504 0.426429 9.80504 0.182755 9.55557C-0.0609185 9.30609 -0.0609185 8.8967 0.182755 8.64722L3.49422 5.26331L0.182755 1.8794C-0.0609188 1.62992 -0.0609188 1.22692 0.182755 0.977449C0.426429 0.727974 0.820056 0.727974 1.06373 0.977449L4.81881 4.80914C4.94377 4.93707 5 5.09699 5 5.26331Z"
                                                        fill="white"></path>
                                                </svg>
                                            </span>
                                        </a>
                                    </div>
                                </div>
                            </ng-template>
                        </li>
                        <li class="nav-item" [ngbNavItem]="'PartnerInfo'">
                            <a class="nav-link" ngbNavLink data-bs-toggle="tab"
                                [ngStyle]="{'background':tabActive.id =='PartnerInfo'?color:''}">Final Step</a>
                            <ng-template ngbNavContent>
                                <div class="tab-inner">
                                    <div class="row" [formGroup]="filesForm">
                                        <!-- <div
                                            class="col-12 col-sm-6 col-md-6 col-lg-4 col-xl-3 text-end owner-signature2">
                                            <div class="form-group">
                                                <label></label>
                                                <a class="theme-btn cursor-pointer mx-2"
                                                    [ngClass]="{'green-btn': customerSign2}"
                                                    (click)="opensecondOwnerModel(sign2)"
                                                    [ngStyle]="{'background-color':!customerSign2?color:''}">
                                                    Signature 2</a>

                                            </div>
                                        </div> -->
                                        <p><b>Upload Syndicate Documents</b></p>
                                        <div>
                                            <div class="add-doc-files" [formGroup]="filesForm">
                                                <div class="docs-inner">
                                                    <div class="row" style="position: relative">
                                                        <div class="col-md-10">
                                                            <div class="upload-image-outer">
                                                                <div class="upload-image">
                                                                    <div class="drag-drop-text">
                                                                        <p>
                                                                            <a>Drag and drop files or add documents</a>
                                                                        </p>

                                                                    </div>
                                                                    <input #input multiple="true"
                                                                        (change)="onFileChange($any($event.target).files, input)"
                                                                        type="file" name="myfile" class="upload-file">
                                                                </div>
                                                            </div>
                                                        </div>
                                                        <div class="col-md-2" style="position: relative;">
                                                            <div class="right-add-btns" ngxUiLoaderBlurred
                                                                [loaderId]="'loader1'">
                                                                <ul class="d-flex justify-content-center">
                                                                    <li class="cursor-pointer">
                                                                        <a class=" theme-btn small-btn"
                                                                            *ngIf="!uploading"
                                                                            [ngStyle]="{'background-color':color}"
                                                                            (click)="uploadDocuments()">
                                                                            <svg width="11" height="11"
                                                                                viewBox="0 0 11 11" fill="none"
                                                                                xmlns="http://www.w3.org/2000/svg">
                                                                                <path
                                                                                    d="M10.003 5.50037C10.003 5.87 9.68425 6.17017 9.29041 6.17017H0.712565C0.318718 6.17017 0 5.87018 0 5.50037C0 5.13073 0.318722 4.83057 0.712565 4.83057H9.29041C9.68426 4.83074 10.003 5.13073 10.003 5.50037Z"
                                                                                    fill="white" />
                                                                                <path
                                                                                    d="M5.01079 0.498535C5.38307 0.498535 5.68059 0.818668 5.68059 1.2125L5.66309 9.78899C5.66167 10.1841 5.36046 10.5016 4.99207 10.5016C4.62243 10.5001 4.32227 10.1814 4.32227 9.78759L4.341 1.20974C4.34118 0.816072 4.63975 0.497176 5.0108 0.498579L5.01079 0.498535Z"
                                                                                    fill="white" />
                                                                            </svg>
                                                                            Start Upload
                                                                        </a>
                                                                        <div class="loader-container" *ngIf="uploading">
                                                                        </div>
                                                                    </li>
                                                                </ul>
                                                            </div>
                                                            <ngx-ui-loader fgsType="ball-spin-clockwise" [fgsSize]="30"
                                                                overlayColor="rgba(255,255,255,0)"
                                                                [hasProgressBar]="false" [loaderId]="'loader1'">
                                                            </ngx-ui-loader>

                                                        </div>


                                                    </div>

                                                    <div class="row" [formGroup]="filesForm">
                                                        <div class="col-md-12" formArrayName="files">

                                                            <!-- 6-8-22 -->
                                                            <div class="upload-image image-detail-list"
                                                                *ngFor="let file of formFileArray.controls; let i=index">
                                                                <ul class="image-list" [formGroupName]="i">
                                                                    <li>
                                                                        <div class="row">
                                                                            <div class="col-md-3">
                                                                                <div class="image-type">
                                                                                    <p class="img-type-text">
                                                                                        {{
                                                                                        formFileArray.controls[i].get('fileName')?.value}}
                                                                                    </p>
                                                                                </div>
                                                                            </div>
                                                                            <div class="col-md-2"
                                                                                *ngIf="formFileArray.controls[i].get('doc_type')?.value != '3month_bank_statement'">
                                                                                <div
                                                                                    class="doc-titile-input form-group">
                                                                                    <input type="text"
                                                                                        formControlName="doc_name"
                                                                                        placeholder="Document Title"
                                                                                        class="form-control">
                                                                                    <div class="invalid-input"
                                                                                        *ngIf="formFileArray.controls[i].get('doc_name')?.errors && formFileArray.controls[i].get('doc_name')?.touched">
                                                                                        <div
                                                                                            *ngIf="formFileArray.controls[i].get('doc_name')?.errors?.required">
                                                                                            Document title is required
                                                                                        </div>
                                                                                        <div
                                                                                            *ngIf="formFileArray.controls[i].get('doc_name')?.errors?.pattern">
                                                                                            Invalid document name
                                                                                        </div>
                                                                                        <div
                                                                                            *ngIf="formFileArray.controls[i].get('doc_name')?.errors?.maxlength">
                                                                                            Maximum 100 characters
                                                                                            allowed
                                                                                        </div>
                                                                                        <div
                                                                                            *ngIf="formFileArray.controls[i].get('doc_name')?.errors?.maxlength">
                                                                                            Document name must be
                                                                                            minimum 3 characters long
                                                                                        </div>
                                                                                        <div
                                                                                            *ngIf="formFileArray.controls[i].get('doc_name')?.errors?.minlength">
                                                                                            Document title must be
                                                                                            minimum 3 characters long
                                                                                        </div>
                                                                                    </div>
                                                                                </div>
                                                                            </div>
                                                                            <div class="col-md-2">
                                                                                <div class="dlt-icon "
                                                                                    (click)="removeFileFromArray(i)">
                                                                                    <a
                                                                                        class="delete-btn cursor-pointer">
                                                                                        <svg width="11" height="12"
                                                                                            viewBox="0 0 11 12"
                                                                                            fill="none"
                                                                                            xmlns="http://www.w3.org/2000/svg">
                                                                                            <path fill-rule="evenodd"
                                                                                                clip-rule="evenodd"
                                                                                                d="M10.0869 1.82467C10.3 1.82467 10.4774 2.00164 10.4774 2.22683V2.43503C10.4774 2.65473 10.3 2.83718 10.0869 2.83718H1.00635C0.792677 2.83718 0.615234 2.65473 0.615234 2.43503V2.22683C0.615234 2.00164 0.792677 1.82467 1.00635 1.82467H2.60387C2.92839 1.82467 3.2108 1.59401 3.28381 1.26856L3.36747 0.894897C3.49748 0.385903 3.92537 0.0478516 4.41507 0.0478516H6.6776C7.16197 0.0478516 7.59466 0.385903 7.71988 0.86805L7.8094 1.26801C7.88187 1.59401 8.16429 1.82467 8.48933 1.82467H10.0869ZM9.27577 9.43502C9.44256 7.88064 9.73457 4.18783 9.73457 4.15058C9.74523 4.03771 9.70846 3.93087 9.63546 3.84485C9.55713 3.76431 9.45801 3.71664 9.34878 3.71664H1.7491C1.63933 3.71664 1.53489 3.76431 1.46242 3.84485C1.38889 3.93087 1.35265 4.03771 1.35798 4.15058C1.35896 4.15742 1.36944 4.2875 1.38696 4.50497C1.46477 5.47105 1.68152 8.16178 1.82157 9.43502C1.92068 10.373 2.53614 10.9626 3.42762 10.9839C4.11554 10.9998 4.82425 11.0053 5.54894 11.0053C6.23153 11.0053 6.92479 10.9998 7.63403 10.9839C8.55641 10.968 9.17133 10.3889 9.27577 9.43502Z"
                                                                                                fill="#565D80"></path>
                                                                                        </svg>
                                                                                    </a>
                                                                                </div>
                                                                            </div>
                                                                        </div>
                                                                    </li>
                                                                </ul>
                                                            </div>
                                                        </div>
                                                    </div>

                                                </div>
                                            </div>
                                            <div class="table-responsive lead-table">
                                                <table class="table">
                                                    <thead>
                                                        <tr>
                                                            <th scope="col">#</th>
                                                            <th scope="col">Name</th>
                                                            <th scope="col">Created</th>
                                                            <th scope="col">Action</th>

                                                        </tr>
                                                    </thead>
                                                    <tbody>
                                                        <tr (click)="leadDetailsLink(doc.url)"
                                                            *ngFor="let doc of uploadedDocsList; let i = index"
                                                            class="cursor-pointer">
                                                            <td>{{ i+1 }}</td>
                                                            <td>
                                                                {{ doc.document_name }}
                                                            </td>
                                                            <td>
                                                                {{getDate(doc.uploaded_on)}}
                                                            </td>
                                                            <td>
                                                                <div class="dropdown" ngbDropdown>
                                                                    <a (click)="$event.stopPropagation()"
                                                                        class="custom-dropdowm dropdown-toggle"
                                                                        data-bs-toggle="dropdown" ngbDropdownToggle>
                                                                        <svg width="14" height="4" viewBox="0 0 14 4"
                                                                            fill="none"
                                                                            xmlns="http://www.w3.org/2000/svg">
                                                                            <path
                                                                                d="M13.4874 0.512567C12.804 -0.170848 11.696 -0.170848 11.0126 0.512567C10.3291 1.19598 10.3291 2.30402 11.0126 2.98744C11.696 3.67085 12.804 3.67085 13.4874 2.98744C14.1709 2.30405 14.1709 1.19601 13.4874 0.512567Z"
                                                                                [ngStyle]="{'fill':color}"
                                                                                fill="#FA5440"></path>
                                                                            <path
                                                                                d="M8.23744 0.512567C7.55402 -0.170848 6.44598 -0.170848 5.76257 0.512567C5.07915 1.19598 5.07915 2.30402 5.76257 2.98744C6.44598 3.67085 7.55402 3.67085 8.23744 2.98744C8.92085 2.30405 8.92085 1.19601 8.23744 0.512567Z"
                                                                                [ngStyle]="{'fill':color}"
                                                                                fill="#FA5440"></path>
                                                                            <path
                                                                                d="M2.98744 0.512567C2.30402 -0.170848 1.19598 -0.170848 0.512564 0.512567C-0.170852 1.19598 -0.170852 2.30402 0.512564 2.98744C1.19598 3.67085 2.30402 3.67085 2.98744 2.98744C3.67085 2.30405 3.67085 1.19601 2.98744 0.512567Z"
                                                                                [ngStyle]="{'fill':color}"
                                                                                fill="#FA5440"></path>
                                                                        </svg>
                                                                    </a>
                                                                    <ul class="dropdown-menu custom-dropdown-menu"
                                                                        style="position: absolute;
                                                                    inset: 0px 0px auto auto;
                                                                    margin: 0px;
                                                                    transform: translate(0px, 25px);" ngbDropdownMenu>
                                                                        <li (click)="$event.stopPropagation()">
                                                                            <a (click)="$event.stopPropagation()"
                                                                                [href]="doc.url" target="_blank"
                                                                                ngbDropdownItem
                                                                                class="dropdown-item item-view table-dropdown-item view cursor-pointer"><img
                                                                                    src="assets/images/view.svg"
                                                                                    alt="/icon">View</a>
                                                                        </li>
                                                                        <li *ngIf="doc.is_deleted != 0">
                                                                            <a (confirm)="documentsDelete(doc.document_id);
                                                                            $event.stopPropagation()
                                                                            " [swal]="{
                                                                              title: 'Are you sure to delete?',
                                                                              text: 'You will not be able to revert this!',
                                                                              icon: 'warning',
                                                                              showCancelButton: true,
                                                                              confirmButtonColor: color,
                                                                              confirmButtonText: 'Yes, delete it!'
                                                                            }" ngbDropdownItem
                                                                                class="dropdown-item item-view table-dropdown-item delete cursor-pointer"><img
                                                                                    src="assets/images/delete.svg"
                                                                                    alt="/icon" />Delete</a>
                                                                        </li>
                                                                    </ul>
                                                                </div>

                                                            </td>
                                                        </tr>
                                                        <tr *ngIf="!uploadedDocsList.length">
                                                            <td colspan="4" class="text-center">No Records Found</td>
                                                        </tr>
                                                    </tbody>
                                                </table>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="d-flex align-items-center justify-content-end">
                                    <div class="lead-submit-btn">
                                        <a (click)="onFinalStepSubmit()" class="theme-btn cursor-pointer"
                                            [ngStyle]="background">
                                            <span class="">Submit</span>
                                            <span class="btn-icon btn-right-icon">
                                                <svg width="5" height="10" viewBox="0 0 5 10" fill="none"
                                                    xmlns="http://www.w3.org/2000/svg">
                                                    <path
                                                        d="M5 5.26331C5 5.42963 4.93752 5.58955 4.81881 5.71748L1.06998 9.55557C0.826304 9.80504 0.426429 9.80504 0.182755 9.55557C-0.0609185 9.30609 -0.0609185 8.8967 0.182755 8.64722L3.49422 5.26331L0.182755 1.8794C-0.0609188 1.62992 -0.0609188 1.22692 0.182755 0.977449C0.426429 0.727974 0.820056 0.727974 1.06373 0.977449L4.81881 4.80914C4.94377 4.93707 5 5.09699 5 5.26331Z"
                                                        fill="white"></path>
                                                </svg>
                                            </span>
                                        </a>
                                    </div>
                                </div>
                            </ng-template>
                        </li>
                    </ul>
                    <div class="tab-content">
                        <div id="lead" class="tab-pane active">
                            <div [ngbNavOutlet]="nav"></div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</main>
<ng-template #sign>
    <app-syndicate-signature [(customerSign)]="customerSign" (close)="closeModal()" [leadId]="syndicateID">
    </app-syndicate-signature>
</ng-template>
<ng-template #sign2>
    <app-syndicate-signature2 [(customerSign2)]="customerSign2" (close)="closesecondOwnerModal()"
        [leadId]="syndicateID"></app-syndicate-signature2>
</ng-template>