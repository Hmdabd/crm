<main class="dashboard-wrapper">
    <div class="container">
        <div class="craete-lead-wrapper">
            <div class="update-table" *ngIf="companyType == 'funded'">
                <h5>Submission Notes:</h5>
                <table class="table table-responsive">
                    <thead>
                        <tr [ngStyle]="background">
                            <!-- <th><span class="serial-border" [ngStyle]="background">#</span></th> -->
                            <th>Lender Name</th>
                            <th>Email</th>
                            <!-- <th>Bussiness State</th> -->
                            <th>Document</th>
                            <th>Notes</th>
                            <th>Date</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr
                            *ngFor="let update of submissionNotesList | paginate: { itemsPerPage: limit, currentPage: submissionpage, totalItems: submissiontotal,  id: 'submissionpage' } ; let i = index">
                            <!-- <td><span class="serial-border">{{ limit * (submissionpage - 1) + i + 1 }}</span></td> -->

                            <td>
                                <span *ngFor="let notes of submissionNotesList[i]">{{ notes.lender_name }}<br></span>
                            </td>
                            <td> <span *ngFor="let notes of submissionNotesList[i]">{{ notes.email }}<br></span> </td>
                            <!-- <td><span>{{ update[0].business_state }}<br></span> </td> -->
                            <td><span *ngFor="let doc of update[0].document">{{ doc.document_name}}<br></span> </td>
                            <td><span>{{ update[0].note }}<br></span> </td>
                            <td><span>{{getDate(update[0].created_at)}}<br></span> </td>
                        </tr>
                        <tr *ngIf="!submissionNotesList.length">
                            <td colspan="5" class="text-center">
                                No records found
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>
            <div class="create-lead-content">
                <div class="full-view">
                    <div class="accordion" id="accordion">
                        <div class="accordion-item">
                            <!-- href="#collapseTwo" -->
                            <a class="accordion-head" data-bs-toggle="collapse">
                                <span class="accordion-head-title">Send Submissions: {{lead.first_name + ' ' +
                                    lead.last_name }}({{ lead.lead_id }}){{ lead.state_name ? '(' + lead.state_name +')'
                                    : '' }}</span>
                                <!-- <span class="accordion-head-icon">
                                    <img src="assets/images/drop-down.svg" alt="" />
                                </span> -->
                                <div class="sheet-btn" *ngIf="companyType == 'broker'">
                                     <a *ngIf="isAllowedFCSsheet && getFCSurl != ''" [ngStyle]="background" [href]="getFCSurl" target="_blank"   class="theme-btn" [ngClass]="{'cursor':isAllowedFCSsheet}">
                                        <span class="btn-icon" >
                                            <svg width="13" height="13" viewBox="0 0 13 13" fill="none" xmlns="http://www.w3.org/2000/svg">
                                                <path d="M6.49881 9.74947C6.39188 9.75009 6.28588 9.7296 6.18688 9.68916C6.08789 9.64873 5.99785 9.58915 5.92193 9.51385L2.67193 6.26385C2.53882 6.10842 2.46927 5.90848 2.47717 5.70399C2.48507 5.49951 2.56984 5.30553 2.71454 5.16083C2.85924 5.01613 3.05322 4.93136 3.2577 4.92346C3.46219 4.91556 3.66213 4.98511 3.81756 5.11822L6.49881 7.79135L9.17193 5.11822C9.32737 4.98511 9.5273 4.91556 9.73179 4.92346C9.93628 4.93136 10.1303 5.01613 10.275 5.16083C10.4197 5.30553 10.5044 5.49951 10.5123 5.70399C10.5202 5.90848 10.4507 6.10842 10.3176 6.26385L7.06756 9.51385C6.91622 9.66395 6.71196 9.74858 6.49881 9.74947Z" fill="white"/>
                                                <path d="M6.5 9.75C6.28451 9.75 6.07785 9.6644 5.92548 9.51202C5.7731 9.35965 5.6875 9.15299 5.6875 8.9375V0.8125C5.6875 0.597012 5.7731 0.390349 5.92548 0.237976C6.07785 0.0856026 6.28451 0 6.5 0C6.71549 0 6.92215 0.0856026 7.07452 0.237976C7.2269 0.390349 7.3125 0.597012 7.3125 0.8125V8.9375C7.3125 9.15299 7.2269 9.35965 7.07452 9.51202C6.92215 9.6644 6.71549 9.75 6.5 9.75ZM12.1875 13H0.8125C0.597012 13 0.390349 12.9144 0.237976 12.762C0.0856026 12.6097 0 12.403 0 12.1875C0 11.972 0.0856026 11.7653 0.237976 11.613C0.390349 11.4606 0.597012 11.375 0.8125 11.375H12.1875C12.403 11.375 12.6097 11.4606 12.762 11.613C12.9144 11.7653 13 11.972 13 12.1875C13 12.403 12.9144 12.6097 12.762 12.762C12.6097 12.9144 12.403 13 12.1875 13Z" fill="white"/>
                                            </svg>                                                        
                                           </span>
                                        <span class="">View FCS Sheet</span>
                                     </a>
                                     <a *ngIf="!isAllowedFCSsheet" [ngStyle]="background" (click)="fcsSheetNotprepare()"   class="theme-btn cursor-not-allowed" >
                                        <span class="btn-icon" >
                                            <svg width="13" height="13" viewBox="0 0 13 13" fill="none" xmlns="http://www.w3.org/2000/svg">
                                                <path d="M6.49881 9.74947C6.39188 9.75009 6.28588 9.7296 6.18688 9.68916C6.08789 9.64873 5.99785 9.58915 5.92193 9.51385L2.67193 6.26385C2.53882 6.10842 2.46927 5.90848 2.47717 5.70399C2.48507 5.49951 2.56984 5.30553 2.71454 5.16083C2.85924 5.01613 3.05322 4.93136 3.2577 4.92346C3.46219 4.91556 3.66213 4.98511 3.81756 5.11822L6.49881 7.79135L9.17193 5.11822C9.32737 4.98511 9.5273 4.91556 9.73179 4.92346C9.93628 4.93136 10.1303 5.01613 10.275 5.16083C10.4197 5.30553 10.5044 5.49951 10.5123 5.70399C10.5202 5.90848 10.4507 6.10842 10.3176 6.26385L7.06756 9.51385C6.91622 9.66395 6.71196 9.74858 6.49881 9.74947Z" fill="white"/>
                                                <path d="M6.5 9.75C6.28451 9.75 6.07785 9.6644 5.92548 9.51202C5.7731 9.35965 5.6875 9.15299 5.6875 8.9375V0.8125C5.6875 0.597012 5.7731 0.390349 5.92548 0.237976C6.07785 0.0856026 6.28451 0 6.5 0C6.71549 0 6.92215 0.0856026 7.07452 0.237976C7.2269 0.390349 7.3125 0.597012 7.3125 0.8125V8.9375C7.3125 9.15299 7.2269 9.35965 7.07452 9.51202C6.92215 9.6644 6.71549 9.75 6.5 9.75ZM12.1875 13H0.8125C0.597012 13 0.390349 12.9144 0.237976 12.762C0.0856026 12.6097 0 12.403 0 12.1875C0 11.972 0.0856026 11.7653 0.237976 11.613C0.390349 11.4606 0.597012 11.375 0.8125 11.375H12.1875C12.403 11.375 12.6097 11.4606 12.762 11.613C12.9144 11.7653 13 11.972 13 12.1875C13 12.403 12.9144 12.6097 12.762 12.762C12.6097 12.9144 12.403 13 12.1875 13Z" fill="white"/>
                                            </svg>                                                        
                                           </span>
                                        <span class="">View FCS Sheet</span>
                                     </a>
                                </div>
                            </a>
                            <!-- <div [ngStyle]="{'display': isBasicForm ? 'block': 'none'}" id="collapseTwo"
                                class="collapse show" data-bs-parent="#accordion">
                                <div class="accordion-body">

                                    <div [formGroup]="basicForm" class="row">
                                        <div class="col-12 col-sm-6 col-md-6 col-lg-4 col-xl-3">
                                            <div class="form-group">
                                                <label>Credit score</label>
                                                <input formControlName="credit_score" type="text"
                                                    placeholder="Enter credit score" class="form-control" maxlength="5"/>
                                                <div class="invalid-input"
                                                    *ngIf="f.credit_score.errors && f.credit_score.touched">
                                                    <div *ngIf="f.credit_score.errors.pattern">
                                                        Credit score must be a number.
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-12 col-sm-6 col-md-6 col-lg-4 col-xl-3">
                                            <div class="form-group">
                                                <label>Negative days </label>
                                                <input formControlName="negative_days" type="text"
                                                    placeholder="Enter negative days" class="form-control" maxlength="5"/>
                                                <div class="invalid-input"
                                                    *ngIf="f.negative_days.errors && f.negative_days.touched">
                                                    <div *ngIf="f.negative_days.errors.pattern">
                                                        Negative days must be a number.
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-12 col-sm-6 col-md-6 col-lg-4 col-xl-3">
                                            <div class="form-group">
                                                <label>Advance ($)</label>
                                                <div class="form-group">
                                                    <input formControlName="advance" type="text" class="form-control"
                                                        placeholder="Enter advance ($)" name="date" maxlength="9"  mask="separator.2" 
                                                        thousandSeparator=",">
                                                    <div class="invalid-input"
                                                        *ngIf="f.advance.errors && f.advance.touched">
                                                        <div *ngIf="f.advance.errors.pattern">
                                                            Advance must be a number.
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-12 col-sm-6 col-md-6 col-lg-4 col-xl-3">
                                            <div class="form-group">
                                                <label>NSFs</label>
                                                <input formControlName="nsfs" type="email" placeholder="Enter NSFs"
                                                    class="form-control" maxlength="10"/>
                                                <div class="invalid-input" *ngIf="f.nsfs.errors && f.nsfs.touched">
                                                    <div *ngIf="f.nsfs.errors.pattern">
                                                        NSFs must be a number.
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-12 col-sm-6 col-md-6 col-lg-4 col-xl-3">
                                            <div class="form-group">
                                                <label>Time in business (months)</label>
                                                <input formControlName="time_in_business" type="text"
                                                    placeholder="Enter time in business" class="form-control" maxlength="5"/>
                                                <div class="invalid-input"
                                                    *ngIf="f.time_in_business.errors && f.time_in_business.touched">
                                                    <div *ngIf="f.time_in_business.errors.pattern">
                                                        Time in business (months) must be a number.
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-12 col-sm-6 col-md-6 col-lg-4 col-xl-3">
                                            <div class="form-group">
                                                <label>Amount ($)</label>
                                                <input formControlName="amount" type="text" placeholder="Enter amount"
                                                    class="form-control" maxlength="15"
                                                    mask="separator.2" 
													thousandSeparator=","/>
                                                <div class="invalid-input" *ngIf="f.amount.errors && f.amount.touched">
                                                    <div *ngIf="f.amount.errors.pattern">
                                                        Amount must be a number.
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-12 col-sm-6 col-md-6 col-lg-4 col-xl-3">
                                            <div class="form-group">
                                                <label>Deposits ($)</label>
                                                <input formControlName="deposits" type="text"
                                                    placeholder="Enter deposits" class="form-control" maxlength="10"  mask="separator.2" 
													thousandSeparator=","/>
                                                <div class="invalid-input"
                                                    *ngIf="f.deposits.errors && f.deposits.touched">
                                                    <div *ngIf="f.deposits.errors.pattern">
                                                        Deposits must be a number.
                                                    </div>
                                                </div>

                                            </div>
                                        </div>
                                        <div class="col-12 col-sm-6 col-md-6 col-lg-4 col-xl-3">
                                            <div class="form-group">
                                                <label>Position</label>
                                                <input formControlName="position" type="text"
                                                    placeholder="Enter position" class="form-control" maxlength="5"/>
                                                <div class="invalid-input"
                                                    *ngIf="f.position.errors && f.position.touched">
                                                    <div *ngIf="f.position.errors.pattern">
                                                        Position must be a number.
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-12 col-sm-6 col-md-6 col-lg-4 col-xl-3">
                                            <div class="form-group">
                                                <label>Term (Months)</label>
                                                <input formControlName="term_months" type="text"
                                                    placeholder="Enter term" class="form-control" maxlength="5"/>
                                                <div class="invalid-input"
                                                    *ngIf="f.term_months.errors && f.term_months.touched">
                                                    <div *ngIf="f.term_months.errors.pattern">
                                                        Term (months) must be a number.
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-12 col-sm-6 col-md-6 col-lg-4 col-xl-3">
                                            <div class="form-group">
                                                <label>Consolidation</label>
                                                <select formControlName="consolidation" class="form-control" name=""
                                                    id="">
                                                    <option value="">--Select--</option>
                                                    <option value="1">Yes</option>
                                                    <option value="0">No</option>
                                                </select>

                                            </div>
                                        </div>
                                        <div class="col-12 col-sm-6 col-md-6 col-lg-4 col-xl-3">
                                            <div class="form-group">
                                                <label>Sole prop</label>
                                                <select formControlName="sole_prop" class="form-control" name="" id="">
                                                    <option value="">--Select--</option>
                                                    <option value="1">Yes</option>
                                                    <option value="0">No</option>
                                                </select>

                                            </div>
                                        </div>

                                        <div class="col-12 col-sm-6 col-md-6 col-lg-4 col-xl-3">
                                            <div class="form-group">
                                                <label>Non profit</label>

                                                <select formControlName="non_profit" class="form-control" name="" id="">
                                                    <option value="">--Select--</option>
                                                    <option value="1">Yes</option>
                                                    <option value="0">No</option>
                                                </select>
                                            </div>
                                        </div>
                                        <div class="col-12 col-sm-6 col-md-6 col-lg-4 col-xl-3">
                                            <div class="form-group">
                                                <label>Daily weekly</label>
                                                <select formControlName="daily_weekly" class="form-control" name=""
                                                    id="">
                                                    <option value="">--Select--</option>
                                                    <option value="daily">Daily</option>
                                                    <option value="weekly">Weekly</option>
                                                </select>
                                            </div>
                                        </div>
                                    </div>

                                </div>
                            </div> -->
                            <ng-container [formGroup]="lenderForm">
                                <div class="lender-type-data" [ngStyle]="{'display': isBasicForm ? 'none':  'block'}">
                                    <div class="row">
                                        <div class="col-6">
                                            <div class="radio-btns">
                                                <span class="accordion-head-title">Lender Type:</span>
                                                <div class="radio-btns-inner">
                                                    <ul class="d-flex">
                                                        <li>
                                                            <input *ngIf="lead.is_freeze != 0"
                                                                formControlName="lender_type" onclick="return false;"
                                                                value="email" type="radio" id="test1" name="lender_type"
                                                                class="cursor-not-allowed" checked>

                                                            <input *ngIf="lead.is_freeze == 0"
                                                                formControlName="lender_type" value="email" type="radio"
                                                                id="test1" name="lender_type" checked
                                                                (change)="checkBoxColor($any($event.target).value)">
                                                            <label for="test1">
                                                                <div class="radio-before"></div>
                                                                Email
                                                                <div class="radio-after"
                                                                    [ngStyle]="{'background-color':colorCheckbox?color:'','border-color':colorCheckbox?color:''}">
                                                                </div>
                                                            </label>
                                                        </li>
                                                        <li>
                                                            <input *ngIf="lead.is_freeze != 0" onclick="return false;"
                                                                formControlName="lender_type" type="radio"
                                                                value="ondeck" id="test2" name="lender_type"
                                                                class="cursor-not-allowed">

                                                            <input *ngIf="lead.is_freeze == 0"
                                                                formControlName="lender_type" type="radio"
                                                                value="ondeck" id="test2" name="lender_type"
                                                                (change)="checkBoxColor($any($event.target).value)">
                                                            <label for="test2">
                                                                <div class="radio-before"></div>On Deck API<div
                                                                    class="radio-after"
                                                                    [ngStyle]="{'background-color':colorCheckbox2?color:'','border-color':colorCheckbox2?color:''}">
                                                                </div>
                                                            </label>
                                                        </li>
                                                        <li>
                                                            <input *ngIf="lead.is_freeze != 0"
                                                                class="cursor-not-allowed" onclick="return false;"
                                                                formControlName="lender_type" value="kapitus"
                                                                type="radio" id="test3" name="lender_type">

                                                            <input *ngIf="lead.is_freeze == 0"
                                                                formControlName="lender_type" value="kapitus"
                                                                type="radio" id="test3" name="lender_type"
                                                                (change)="checkBoxColor($any($event.target).value)">
                                                            <label for="test3">
                                                                <div class="radio-before"></div>Kapitus<div
                                                                    class="radio-after"
                                                                    [ngStyle]="{'background-color':colorCheckbox3?color:'','border-color':colorCheckbox3?color:''}">
                                                                </div>
                                                            </label>
                                                        </li>
                                                    </ul>
                                                </div>
                                            </div>
                                        </div>
                                        <!-- <div class="col-6">
                                            <div class="form-group">
                                              <label>Bussiness State</label>
                                              <select [attr.disabled]="'disabled'" formControlName="state_id" class="form-control">
                                                <option value="">--Bussiness State Has Not Been Selected Yet--</option>
                                                <option *ngFor="let state of statesList" [value]="state.id">
                                                  {{ state.name }}
                                                </option>
                                              </select>
                                            </div>
                                          </div> -->
                                    </div>
                                </div>
                                <div class="lender-sbumission-outer"
                                    [ngStyle]="{'display': isBasicForm ? 'none':  'block'}">
                                    <div class="row">
                                        <div class="col-3">
                                            <div class="document-listing">
                                                <div class="list-title">
                                                    <span class="accordion-head-title">Lenders:</span>
                                                </div>
                                                <ng-select *ngIf="lead.is_freeze == 0" [items]="lendersList"
                                                    [closeOnSelect]="false" [disabled]="false" [multiple]="true"
                                                    bindLabel="name" [virtualScroll]="true" bindValue="id"
                                                    formControlName="lenders" placeholder="Select lenders">
                                                    <ng-template ng-option-tmp let-item="item" let-item$="item$"
                                                        let-index="index">
                                                        <div class="chkbox">
                                                        <input id="item-{{ index }}" type="checkbox"
                                                            [checked]="item$.selected" [value]="item.id" />
                                                            <div class="doc-outer docs-outer">
                                                                <li class="doc-list">
                                                                    <div class="doc-list-inner">

                                                        <span [ngClass]="{'font-bold':item.is_submitted}"> {{ item.name
                                                            }} </span>
                                                        <!-- {{ item.name }} -->
                                                        </div>
                                                        </li>
                                                        </div>
                                                        </div>

                                                    </ng-template>


                                                </ng-select>
                                                <ng-select *ngIf="lead.is_freeze != 0" [items]="lendersList"
                                                    [closeOnSelect]="false" [disabled]="true" [multiple]="true"
                                                    bindLabel="name" [virtualScroll]="true" bindValue="id"
                                                    formControlName="lenders" placeholder="Select lenders">
                                                    <ng-template ng-option-tmp let-item="item" let-item$="item$"
                                                        let-index="index">

                                                        <input id="item-{{ index }}" type="checkbox"
                                                            [checked]="item$.selected" [value]="item.id" />

                                                        {{ item.name }}

                                                    </ng-template>


                                                </ng-select>
                                                <div class="invalid-input"
                                                    *ngIf="l.lenders.errors && l.lenders.touched">
                                                    <div *ngIf="l.lenders.errors.required">
                                                        Lender is required
                                                    </div>
                                                </div>
                                                <!-- <ul>
                                                    <li class="lender-list-item"><span>{{ companyName }}</span></li>
                                                </ul> -->
                                            </div>
                                        </div>
                                        <!-- funded company -->
                                        <div class="col-3" *ngIf="companyType == 'funded'">
                                            <div>
                                                <div class="list-title">
                                                    <span *ngIf="!documentcheckbox"
                                                        class="accordion-head-title">Documents:(Last 90 Days):</span>
                                                    <span *ngIf="documentcheckbox"
                                                        class="accordion-head-title">Documents:</span>
                                                    <div class="form-group mb-2">
                                                        <div class="form-check">
                                                            <input *ngIf="lead.is_freeze != 0" onclick="return false;"
                                                                [ngStyle]="{'background-color':documentcheckbox?color:'', 'border-color':documentcheckbox?color:''}"
                                                                type="checkbox"
                                                                class="form-check-input cursor-not-allowed showall"
                                                                id="check1" name="option1" value="something">

                                                            <input *ngIf="lead.is_freeze == 0"
                                                                [ngStyle]="{'background-color':documentcheckbox?color:'', 'border-color':documentcheckbox?color:''}"
                                                                (change)="getshowAllDocuments($event)" type="checkbox"
                                                                class="form-check-input cursor-pointer showall"
                                                                id="check1" name="option1" value="something">
                                                            <label class="form-check-label cursor-pointer"
                                                                for="check1">Show All</label>
                                                        </div>
                                                    </div>
                                                </div>
                                                <ng-select *ngIf="lead.is_freeze == 0" [items]="docsList"
                                                (change)="getDocumentValue()"   [closeOnSelect]="false" [multiple]="true" [disabled]="false"
                                                    bindLabel="document_name" [virtualScroll]="true"
                                                    bindValue="document_id" formControlName="documents"
                                                    placeholder="Select documents">
                                                    <ng-template ng-option-tmp let-item="item" let-item$="item$"
                                                        let-index="index">
                                                        <div class="chkbox">
                                                            <input class="cm-checkbox" id="item-{{ index }}"
                                                                type="checkbox" [checked]="item$.selected"
                                                                [value]="item.document_id" />

                                                            <div class="doc-outer docs-outer">
                                                                <li class="doc-list">
                                                                    <div class="doc-list-inner">
                                                                        <!-- <div class="file-image" [ngSwitch]="item.mime">
                                                                        <img *ngSwitchCase="'text/plain'"
                                                                            src="assets/images/txt-file.svg"
                                                                            alt="image">
                                                                        <img *ngSwitchCase="'application/pdf'"
                                                                            src="assets/images/pdf.svg" alt="image">
                                                                        <img *ngSwitchCase="'application/vnd.ms-excel'"
                                                                            src="assets/images/microsoft-excel.svg"
                                                                            alt="image">
                                                                        <img *ngSwitchCase="'application/vnd.openxmlformats-officedocument.wordprocessingml.document'"
                                                                            src="assets/images/doc-icon.svg"
                                                                            alt="image">
                                                                        <img *ngSwitchDefault
                                                                            src="assets/images/other.svg" alt="image">
                                                                    </div> -->
                                                                        <div class="file-content">
                                                                            <p class="file-text">
                                                                                {{getChangeDocName(item.document_type)}}({{item.document_name}}){{item.note ? '('+ item.note + ')' : ''}}
                                                                            </p>
                                                                        </div>
                                                                        <div class="kb-text">{{ item.document_size |
                                                                        filesize }}</div>
                                                                    </div>
                                                                </li>
                                                            </div>
                                                        </div>

                                                    </ng-template>


                                                </ng-select>
                                                <ng-select [items]="docsList" *ngIf="lead.is_freeze != 0"
                                                    [closeOnSelect]="false" [multiple]="true" [disabled]="true"
                                                    bindLabel="document_name" [virtualScroll]="true"
                                                    bindValue="document_id" formControlName="documents"
                                                    placeholder="Select documents">
                                                    <ng-template ng-option-tmp let-item="item" let-item$="item$"
                                                        let-index="index">
                                                        <div class="chkbox">
                                                            <input class="cm-checkbox" id="item-{{ index }}"
                                                                type="checkbox" [checked]="item$.selected"
                                                                [value]="item.document_id" />

                                                            <div class="doc-outer docs-outer">
                                                                <li class="doc-list">
                                                                    <div class="doc-list-inner">
                                                                        <!-- <div class="file-image" [ngSwitch]="item.mime">
                                                                    <img *ngSwitchCase="'text/plain'"
                                                                        src="assets/images/txt-file.svg"
                                                                        alt="image">
                                                                    <img *ngSwitchCase="'application/pdf'"
                                                                        src="assets/images/pdf.svg" alt="image">
                                                                    <img *ngSwitchCase="'application/vnd.ms-excel'"
                                                                        src="assets/images/microsoft-excel.svg"
                                                                        alt="image">
                                                                    <img *ngSwitchCase="'application/vnd.openxmlformats-officedocument.wordprocessingml.document'"
                                                                        src="assets/images/doc-icon.svg"
                                                                        alt="image">
                                                                    <img *ngSwitchDefault
                                                                        src="assets/images/other.svg" alt="image">
                                                                </div> -->
                                                                        <div class="file-content">
                                                                            <p class="file-text">
                                                                                {{getChangeDocName(item.document_type)}}({{item.document_name}}){{item.note ? '('+ item.note + ')' : ''}}
                                                                            </p>
                                                                            <!-- <span class="kb-text">{{ item.document_size |
                                                                        filesize }}</span> -->
                                                                        </div>
                                                                    </div>
                                                                </li>
                                                            </div>
                                                        </div>

                                                    </ng-template>


                                                </ng-select>
                                                <div class="invalid-input doc-required"
                                                    *ngIf="l.documents.errors && l.documents.touched">
                                                    <div *ngIf="l.documents.errors.required">
                                                        Document is required
                                                    </div>
                                                </div>
                                                <!-- <div class="doc-outer docs-outer"> 
                                                    <ul>
                                                        <li *ngFor="let doc of docsList" class="doc-list">
                                                            <div class="doc-list-inner">
                                                                <div class="file-image" [ngSwitch]="doc.mime">
                                                                    <img *ngSwitchCase="'text/plain'"
                                                                        src="assets/images/txt-file.svg" alt="image">
                                                                    <img *ngSwitchCase="'application/pdf'"
                                                                        src="assets/images/pdf.svg" alt="image">
                                                                    <img *ngSwitchCase="'application/vnd.ms-excel'"
                                                                        src="assets/images/microsoft-excel.svg"
                                                                        alt="image">
                                                                    <img *ngSwitchCase="'application/vnd.openxmlformats-officedocument.wordprocessingml.document'"
                                                                        src="assets/images/doc-icon.svg" alt="image">
                                                                    <img *ngSwitchDefault src="assets/images/other.svg"
                                                                        alt="image">
                                                                </div>
                                                                <div class="file-content">
                                                                    <p class="file-text">{{ doc.document_name }}</p>
                                                                    <span class="kb-text">{{ doc.document_size |
                                                                        filesize }}</span>
                                                                </div>
                                                            </div>
                                                        </li>
                                                    </ul>
                                                </div> -->
                                            </div>
                                        </div>
                                        <!-- funded company end -->

                                        <!-- broker company start -->
                                        <div class="col-3" *ngIf="companyType == 'broker'">
                                            <div class="document-listing">
                                                <div class="list-title">
                                                    <div class="custom-form-select-box">
                                                        <!-- (change)="getshowAllDocuments($event)" -->
                                                        <div class="form-group">
                                                            <input *ngIf="lead.is_freeze == 0"
                                                            type="checkbox"
                                                            [ngStyle]="{'background-color':selectBox?color:'','border-color':selectBox?color:''}"
                                                            [checked]="selectBox"
                                                            (change)="getAllDocSelected($event)"
                                                            class="form-check-input cursor-pointer selectAll"
                                                            id="check2" name="option1" value="something">
                                                            <input *ngIf="lead.is_freeze != 0" onclick="return false;"
                                                            type="checkbox"
                                                            [ngStyle]="{'background-color':selectBox?color:'','border-color':selectBox?color:''}"
                                                            class="form-check-input cursor-pointer selectAll"
                                                            id="check2" name="option1" value="something">
                                                            <label class="form-check-label cursor-pointer"
                                                            for="check2">Select All</label>
                                                        </div>
                                                        <div class="form-group mb-2">
                                                            <div class="">
                                                                <input *ngIf="lead.is_freeze != 0" onclick="return false;"
                                                                    [ngStyle]="{'background-color':documentcheckbox?color:'', 'border-color':documentcheckbox?color:''}"
                                                                    type="checkbox"
                                                                    class="form-check-input cursor-not-allowed showall"
                                                                    id="check1" name="option1" value="something">

                                                                <input *ngIf="lead.is_freeze == 0"
                                                                    [ngStyle]="{'background-color':documentcheckbox?color:'', 'border-color':documentcheckbox?color:''}"
                                                                    (change)="getshowAllDocuments($event)" type="checkbox"
                                                                    class="form-check-input cursor-pointer showall"
                                                                    id="check1" name="option1" value="something">
                                                                <label class="form-check-label cursor-pointer"
                                                                    for="check1">Show All</label>
                                                            </div>
                                                        </div>
                                                        
                                                    </div>
                                                    <span *ngIf="!documentcheckbox"
                                                        class="accordion-head-title">Documents:(Last 90 Days)</span>
                                                    <span *ngIf="documentcheckbox"
                                                        class="accordion-head-title">Documents:</span>                                                   
                                                </div>
                                                <ng-select *ngIf="lead.is_freeze == 0" [items]="docsList" 
                                                (change)="getDocumentValue()"  [closeOnSelect]="false" [isOpen]="true"  [dropdownPosition]="'bottom'"  [multiple]="true" [disabled]="false"
                                                    bindLabel="document_name" [virtualScroll]="true"
                                                    bindValue="document_id" formControlName="documents"
                                                    placeholder="Select documents" (click)="getAllDocsStatus($event)" >
                                                    <ng-template ng-option-tmp let-item="item" let-item$="item$"
                                                        let-index="index">
                                                        <div class="chkbox">
                                                            <input class="cm-checkbox" id="item-{{ index }}"
                                                                type="checkbox" [checked]="item$.selected"
                                                                [value]="item.document_id" />

                                                            <div class="doc-outer docs-outer">
                                                                <li class="doc-list">
                                                                    <div class="doc-list-inner">
                                                                        <!-- <div class="file-image" [ngSwitch]="item.mime">
                                                                        <img *ngSwitchCase="'text/plain'"
                                                                            src="assets/images/txt-file.svg"
                                                                            alt="image">
                                                                        <img *ngSwitchCase="'application/pdf'"
                                                                            src="assets/images/pdf.svg" alt="image">
                                                                        <img *ngSwitchCase="'application/vnd.ms-excel'"
                                                                            src="assets/images/microsoft-excel.svg"
                                                                            alt="image">
                                                                        <img *ngSwitchCase="'application/vnd.openxmlformats-officedocument.wordprocessingml.document'"
                                                                            src="assets/images/doc-icon.svg"
                                                                            alt="image">
                                                                        <img *ngSwitchDefault
                                                                            src="assets/images/other.svg" alt="image">
                                                                    </div> -->
                                                                        <div class="file-content">
                                                                            <p class="file-text">
                                                                                {{getChangeDocName(item.document_type)}}({{item.document_name}}){{item.note ? '('+ item.note + ')' : ''}}
                                                                            </p>
                                                                        </div>
                                                                        <div class="kb-text">{{ item.document_size |
                                                                        filesize }}</div>
                                                                    </div>
                                                                </li>
                                                            </div>
                                                        </div>

                                                    </ng-template>


                                                </ng-select>
                                                <ng-select [items]="docsList" *ngIf="lead.is_freeze != 0"
                                                    [closeOnSelect]="false"   [multiple]="true" [disabled]="true"
                                                    bindLabel="document_name" [virtualScroll]="true"
                                                    bindValue="document_id" formControlName="documents"
                                                    placeholder="Select documents">
                                                    <ng-template ng-option-tmp let-item="item" let-item$="item$"
                                                        let-index="index">
                                                        <div class="chkbox">
                                                            <input class="cm-checkbox" id="item-{{ index }}"
                                                                type="checkbox" [checked]="item$.selected"
                                                                [value]="item.document_id" />

                                                            <div class="doc-outer docs-outer">
                                                                <li class="doc-list">
                                                                    <div class="doc-list-inner">
                                                                        <!-- <div class="file-image" [ngSwitch]="item.mime">
                                                                    <img *ngSwitchCase="'text/plain'"
                                                                        src="assets/images/txt-file.svg"
                                                                        alt="image">
                                                                    <img *ngSwitchCase="'application/pdf'"
                                                                        src="assets/images/pdf.svg" alt="image">
                                                                    <img *ngSwitchCase="'application/vnd.ms-excel'"
                                                                        src="assets/images/microsoft-excel.svg"
                                                                        alt="image">
                                                                    <img *ngSwitchCase="'application/vnd.openxmlformats-officedocument.wordprocessingml.document'"
                                                                        src="assets/images/doc-icon.svg"
                                                                        alt="image">
                                                                    <img *ngSwitchDefault
                                                                        src="assets/images/other.svg" alt="image">
                                                                </div> -->
                                                                        <div class="file-content">
                                                                            <p class="file-text">
                                                                                {{getChangeDocName(item.document_type)}}({{item.document_name}}){{item.note ? '('+ item.note + ')' : ''}}
                                                                            </p>
                                                                            <!-- <span class="kb-text">{{ item.document_size |
                                                                        filesize }}</span> -->
                                                                        </div>
                                                                    </div>
                                                                </li>
                                                            </div>
                                                        </div>

                                                    </ng-template>


                                                </ng-select>
                                                <div class="invalid-input doc-required"
                                                    *ngIf="l.documents.errors && l.documents.touched">
                                                    <div *ngIf="l.documents.errors.required">
                                                        Document is required
                                                    </div>
                                                </div>
                                                <!-- <div class="doc-outer docs-outer"> 
                                                    <ul>
                                                        <li *ngFor="let doc of docsList" class="doc-list">
                                                            <div class="doc-list-inner">
                                                                <div class="file-image" [ngSwitch]="doc.mime">
                                                                    <img *ngSwitchCase="'text/plain'"
                                                                        src="assets/images/txt-file.svg" alt="image">
                                                                    <img *ngSwitchCase="'application/pdf'"
                                                                        src="assets/images/pdf.svg" alt="image">
                                                                    <img *ngSwitchCase="'application/vnd.ms-excel'"
                                                                        src="assets/images/microsoft-excel.svg"
                                                                        alt="image">
                                                                    <img *ngSwitchCase="'application/vnd.openxmlformats-officedocument.wordprocessingml.document'"
                                                                        src="assets/images/doc-icon.svg" alt="image">
                                                                    <img *ngSwitchDefault src="assets/images/other.svg"
                                                                        alt="image">
                                                                </div>
                                                                <div class="file-content">
                                                                    <p class="file-text">{{ doc.document_name }}</p>
                                                                    <span class="kb-text">{{ doc.document_size |
                                                                        filesize }}</span>
                                                                </div>
                                                            </div>
                                                        </li>
                                                    </ul>
                                                </div> -->
                                            </div>
                                        </div>
                                        <!-- end -->

                                        <!-- <div class="col-3">
                                            <div class="lender-notes-inner">
                                                <div class="list-title">
                                                    <span class="accordion-head-title">Placeholder for lender
                                                        notes:</span>
                                                </div>
                                                <div class="doc-outer">
                                                    <select formControlName="placeholder_lender_notes"
                                                        class="custom-select-lead" multiple="multiple">
                                                        <option class="option" value="__CUSTOMER_COMPANY__">
                                                            __CUSTOMER_COMPANY__ =&gt;
                                                            Customer Company Name</option>
                                                        <option class="option" value="__CUSTOMER_DETAIL_URL__">
                                                            __CUSTOMER_DETAIL_URL__
                                                            =&gt; Customer Detail URL</option>
                                                        <option class="option" value="__CUSTOMER_DETAIL_URL_1__">
                                                            __CUSTOMER_DETAIL_URL_1__ =&gt; Apply Now</option>
                                                        <option class="option" value="__CUSTOMER_DETAIL_URL_2__">
                                                            __CUSTOMER_DETAIL_URL_2__ =&gt; Learn More</option>
                                                        <option class="option" value="__DATE__">__DATE__ =&gt; Current
                                                            Date</option>
                                                        <option class="option" value="__DBA__">__DBA__ =&gt; Doing
                                                            Business As</option>
                                                        <option class="option" value="__EMAIL__">__EMAIL__ =&gt;
                                                            Customer Email Address
                                                        </option>
                                                        <option class="option" value="__LEAD_FIRST_NAME__">
                                                            __LEAD_FIRST_NAME__ =&gt;
                                                            Customer First Name</option>
                                                        <option class="option" value="__LEAD_LAST_NAME__">
                                                            __LEAD_LAST_NAME__ =&gt;
                                                            Customer Last Name</option>
                                                        <option class="option" value="__NAME__">__NAME__ =&gt; Customer
                                                            Name</option>
                                                        <option class="option" value="__PHONE__">__PHONE__ =&gt;
                                                            Customer Phone Number
                                                        </option>

                                                    </select>
                                                    <div class="invalid-input"
                                                        *ngIf="lenderForm.controls.placeholder_lender_notes.errors && lenderForm.controls.placeholder_lender_notes.touched">
                                                        <div *ngIf="lenderForm.controls.placeholder_lender_notes.errors.required">
                                                            Placeholder for lender notes is required
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div> -->
                                        <div class="col-3">
                                            <div class="custom-notes">
                                                <div class="list-title">
                                                    <span class="accordion-head-title">{{companyType == 'broker' ? 'Submission Notes:' : 'Custom Notes (Optional):'}}</span>
                                                </div>
                                                <div class="doc-outer mb-2">
                                                    <div class="optional-textarea">
                                                        <textarea [readonly]="lead.is_freeze != 0"
                                                            formControlName="custom_note" name="" id=""
                                                            class="form-control"></textarea>
                                                    </div>
                                                    <div class="invalid-input"
                                                        *ngIf="l.custom_note.errors && l.custom_note.touched">
                                                        <div *ngIf="l.custom_note.errors.pattern">
                                                            Invalid {{companyType == 'broker' ? 'submission notes' : 'custom notes'}}
                                                        </div>
                                                        <div *ngIf="l.custom_note.errors.maxlength">
                                                            Maximum 1000 characters allowed
                                                        </div>
                                                        <div *ngIf="l.custom_note.errors.minlength">
                                                            {{companyType == 'broker' ? 'Submission notes' : 'Custom notes'}} must be minimum 3 characters long
                                                        </div>
                                                    </div>
                                                </div>
                                                <!-- FCS Detail table -->
                                                
                                                
                                          
                                                
                                                <!--  *** -->
                                                <!-- <div class="custom-dropdown">
                                                    <div class="list-title">
                                                        <span class="accordion-head-title">Custom notes
                                                            (optional):</span>
                                                    </div>
                                                    <div class="form-group">
                                                        <select formControlName="submission_through"
                                                            class="form-control submission" name="" id="">
                                                            <option value="SUBMISSION">SUBMISSION EMAIL</option>
                                                            <option value="BM">BRANCH MANAGER EMAIL</option>
                                                            <option value="UW">UNDERWRITING EMAIL</option>
                                                        </select>
                                                    </div>
                                                </div> -->
                                            </div>
                                        </div>
                                        <div class="col-3">
                                            <div class="custom-notes" *ngIf="companyType == 'funded'">
                                                <div class="custom-dropdown">
                                                    <div class="list-title">
                                                        <span class="accordion-head-title">Send Submission From</span>
                                                    </div>
                                                    <div class="form-group">
                                                        <select formControlName="submission_through"
                                                            class="form-control submission" name="" id="">
                                                            <option value="SUBMISSION">SUBMISSION EMAIL</option>
                                                            <!-- <option value="BM">BRANCH MANAGER EMAIL</option>
                                                            <option value="UW">UNDERWRITING EMAIL</option> -->
                                                        </select>
                                                    </div>
                                                </div>
                                            </div>

                                            <div>
                                                <div  [ngClass]="{'custom-accordion': companyType == 'broker'}">
                                                    <ngb-accordion #sendSubmiision="ngbAccordion"
                                                        [activeIds]="'SendSubmission'" *ngIf="lendersList.length">
                                                        <ngb-panel id="SendSubmission">
                                                            <ng-template ngbPanelHeader let-opened="opened">
                                                                <a class="accordion-head-2 cursor-pointer"
                                                                    (click)="toggleSendsubmission('SendSubmission')">
                                                                    <span class="accordion-head-title-box">Submitted
                                                                        Deals</span>
                                                                    <div>
                                                                        <span class="accordion-head-icon">
                                                                            <img src="assets/images/drop-down.svg" alt="" />
                                                                        </span>
                                                                    </div>
                                                                </a>
                                                            </ng-template>
                                                            <ng-template ngbPanelContent>
                                                                <div class="lead-summary-outer deals-outer">
                                                                    <!-- <div class="bttn">
                                                                    <a *ngIf="canEditLead" [ngStyle]="background" class="theme-btn white-btn"
                                                                        routerLink="/{{userBaseRoute}}/lead-createlenderoffer/{{leadID}}">Create
                                                                        Lender Offer</a>
                                                                </div> -->
                                                                    <div class="summary-top">
                                                                        <div class="summary-list-outer">

                                                                            <div *ngFor="let lender of submittedlendersList, let i = index"
                                                                                class="summery-inner-box"
                                                                                [ngClass]="{'green': lender.other_confirmation === 1  && lender.status == 1, 'red': lender.other_confirmation === 2  && lender.status == 3}">
                                                                                <div class="inline-checkbox">
                                                                                    <div
                                                                                        class="custom-control custom-checkbox form-check">
                                                                                        <!-- <input *ngIf="lead.is_freeze != 0" onclick="return false;"
                                                                                        [attr.disabled]="lender.status ? true : null"
                                                                                        [checked]="lender.status" #checkBox type="checkbox"
                                                                                        class="custom-control-input ajax-filters form-check-input"
                                                                                        name="ajax_category" value=""
                                                                                        [ngStyle]="{'background-color':lender.toggle || checkBoxColor?color:'','border-color':lender.toggle || checkBoxColor?color:''}">
                        
                                                                                    <input *ngIf="lead.is_freeze == 0"
                                                                                        [attr.disabled]="lender.status ? true : null"
                                                                                        [checked]="lender.status" #checkBox
                                                                                        (change)="onChangeLender(lender.id, lender.name, checkBox, i)"
                                                                                        type="checkbox"
                                                                                        class="custom-control-input ajax-filters form-check-input"
                                                                                        name="ajax_category" value=""
                                                                                        [ngStyle]="{'background-color':lender.toggle || checkBoxColor?color:'','border-color':lender.toggle || checkBoxColor?color:''}"> -->
                                                                                        <!--  -->
                                                                                        <label class="custom-control-label"
                                                                                            [ngClass]="{'font-green': lender.other_confirmation === 1  && lender.status == 1, 'font-red': lender.other_confirmation === 2  && lender.status == 3}">{{lender.name}}</label>
                                                                                    </div>
                                                                                    <!-- <div class="cstm-icon" *ngIf="lender.status">
                                                                                    <ul>
                                                                                        <li *ngIf="showPaperPlane" class="paper-plane">
                                                                                            <svg xmlns="http://www.w3.org/2000/svg"
                                                                                                viewBox="0 0 512 512">
                                                                                                <path
                                                                                                    d="M476 3.2L12.5 270.6c-18.1 10.4-15.8 35.6 2.2 43.2L121 358.4l287.3-253.2c5.5-4.9 13.3 2.6 8.6 8.3L176 407v80.5c0 23.6 28.5 32.9 42.5 15.8L282 426l124.6 52.2c14.2 6 30.4-2.9 33-18.2l72-432C515 7.8 493.3-6.8 476 3.2z" />
                                                                                            </svg>
                                                                                        </li>
                                                                                        <li [ngClass]="{'no-border': lender.other_confirmation === 2 || lender.other_confirmation === 1}"
                                                                                            (click)="lender.other_confirmation === 2? null : lender.other_confirmation === 1? null: check(lender.name, lender.id)"
                                                                                            class="check cursor-pointer no-border">
                                                                                            <svg xmlns="http://www.w3.org/2000/svg"
                                                                                                viewBox="0 0 512 512">
                                                                                                <path
                                                                                                    d="M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206 0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204 0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204 0l36.203 36.204c9.997 9.997 9.997 26.206 0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z" />
                                                                                            </svg>
                                                                                        </li>
                                                                                        <li [ngClass]="{'no-border': lender.other_confirmation === 2}"
                                                                                            (click)="lender.other_confirmation === 2 ? null: declineOfferPopup(lender.id)"
                                                                                            class="cross cursor-pointer">
                                                                                            <svg xmlns="http://www.w3.org/2000/svg"
                                                                                                viewBox="0 0 352 512">
                                                                                                <path
                                                                                                    d="M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z" />
                                                                                            </svg>
                                                                                        </li>
                                                                                    </ul>
                                                                                </div> -->
                                                                                </div>
                                                                            </div>
                                                                            <div *ngIf="!submittedlendersList.length"
                                                                                class="summery-inner-box">
                                                                                <p class="text-center">No records found</p>
                                                                            </div>
                                                                        </div>
                                                                    </div>

                                                                </div>
                                                            </ng-template>
                                                        </ngb-panel>


                                                    </ngb-accordion>
                                                </div>
                                            </div>
                                        </div>

                                    </div>

                                    <div class="detail-listing tab-table-list small-scroll-table" *ngIf="companyType == 'broker'">
                                        <table class="table">
                                            <thead>
                                                <tr>
                                                    <th scope="col">
                                                        
                                                    </th>
                                                    <th scope="col">
                                                        <p class="lead-title">Bank</p>
                                                    </th>
                                                    <th scope="col">
                                                        <p class="lead-title">Monthly</p>
                                                    </th>
                                                    <th scope="col">
                                                        <p class="lead-title">Adjustment</p>
                                                    </th>
                                                    <th scope="col">
                                                        <p class="lead-title">Monthly True Revenue</p>
                                                    </th>
                                                    <th scope="col">
                                                        <p class="lead-title">Average Daily</p>
                                                    </th>
                                                    <th scope="col">
                                                        <p class="lead-title">NSF</p>
                                                    </th>
                                                    <th scope="col">
                                                        <p class="lead-title">Neg Days</p>
                                                    </th>
                                                    <th scope="col">
                                                        <p class="lead-title"># Of Deposits</p>
                                                    </th>
                                                    <th scope="col">
                                                        <p class="lead-title">Ending Balance</p>
                                                    </th>
                                                </tr>
                                                
                                            </thead>
                                            <tbody>
                                                <tr *ngFor="let bank of fcsDetailList?.bank_data; let i = index;">
                                                    <td>
                                                        <!-- i === 0  -->
                                                        {{bank.type }}
                                                       <!-- {{ i%2 == 0? 'Total': 'Average'}} -->
                                                    </td>
                                                    <td>
                                                        {{bank.bank_title }}
                                                    </td>
                                                    <td>
                                                        {{bank.monthly | currency }}
                                                    </td>
                                                    <td>
                                                        {{getAdjustment(bank.monthly, bank.monthly_true_revenue) | currency}}
                                                    </td>
                                                    <td>
                                                        {{bank.monthly_true_revenue  | currency }}
                                                    </td>
                                                    <td>
                                                        {{bank.average_daily  | currency  }}
                                                    </td>
                                                    <td>
                                                        {{bank.nsf ? bank.nsf.toFixed(2): bank.nsf }}
                                                    </td>
                                                    <td>
                                                        {{bank.neg_days ? bank.neg_days.toFixed(2): bank.neg_days }}
                                                    </td>
                                                    <td>
                                                        {{bank.hash_of_deposit ? bank.hash_of_deposit.toFixed(2): bank.hash_of_deposit }}
                                                    </td>
                                                    <td>
                                                         {{bank.ending_balance | currency }}
                                                    </td>
                                                </tr>
                                                <tr *ngIf="!fcsDetailList?.bank_data.length">
                                                    <td colspan="10" class="text-center">No Records Found</td>
                                                </tr>
                                            </tbody>
                                        </table>
                                    </div>
                                    <br>
                                    <br>

                                    <div class="active-lenders" *ngIf="companyType == 'broker'">
                                        <div class="heading-title">
                                            <p class="lead-title">Active Lenders</p>
                                        </div>
                                    <div class="detail-listing tab-table-list active-lander-table">
                                        <!-- <div class="heading-title">
                                            <p class="lead-title">Active lenders</p>
                                        </div> -->
                                        <table class="table">
                                            <thead>
                                                <tr >
                                                    <!-- <th scope="col" class="check-box">
                                                     <div class="form-check">
                                                            <input #selectAll (change)="onCheckingAll($event.target)" type="checkbox"
                                                                class="form-check-input cursor-pointer" id="check1" name="option1"
                                                                value="something"
                                                                [ngStyle]="{'background-color':boo?color:'','border-color':boo?color:''}" />
                                                        </div> 
                                                    </th> -->
                                                    <th scope="col">
                                                        <p class="lead-title">Lender Name</p>
                                                    </th>
                                                    <th scope="col">
                                                        <p class="lead-title">Funded Date</p>
                                                    </th>
                                                    <!-- <th scope="col" >
                                                        <p class="lead-title">Daily Payment($)</p>
                                                    </th> -->
                                                    <th scope="col" >
                                                        <p class="lead-title">Payment Type($)</p>
                                                    </th>
                                                    <th scope="col">
                                                        <p class="lead-title">Balance($)</p>
                                                    </th>
                                                    <th scope="col">
                                                        <p class="lead-title">Withholding %</p>
                                                    </th>
                                                </tr>
                                                
                                            </thead>
                                            <tbody>
                                                <tr *ngFor="let lender of activelenderList; let i = index;">
                                                    <!-- <td class="check-box">   <div class="form-check">
                                                       <input #inputBox (change)="onLenderChange(lender.id, $event.target,i)"
                                                           (click)="$event.stopPropagation()" type="checkbox"
                                                           class="form-check-input cursor-pointer" [(checked)]="lender.status"
                                                           [ngStyle]="{'background-color':lender.status == 1?color:'','border-color':lender.status == 1?color:''}" />
                                                       </div></td> -->
                                                   <td> 
                                                       {{lender.name }}
                                                   </td>
                                                   <td>
                                                       {{ getDateLender(lender.funded_date) }}
                                                   </td>
                                                   <td *ngIf="companyType == 'broker'">
                                                       {{lender.daily_payments | currency}} ({{lender.payment_status?'Weekly':'Daily'}})
                                                   </td>
                                                   <td>
                                                       {{lender.balance  | currency }}
                                                   </td>
                                                   <td>{{ lender.with_hold}} %</td>
                                                </tr>
                                                <tr *ngIf="!fcsDetailList?.lender.length">
                                                    <td colspan="5" class="text-center">No Records Found</td>
                                                </tr>
                                            </tbody>
                                        </table>
                                    </div>
                                    </div>
                                </div>
                            </ng-container>

                        </div>
                    </div>
                    <div class="lead-submit-btn">
                        <a *ngIf="isBasicForm" (click)="basicFormSubmit()" [ngStyle]="background"
                            class="theme-btn cursor-pointer">
                            <span class="">Next</span>
                            <span class="btn-icon btn-right-icon">
                                <svg width="5" height="10" viewBox="0 0 5 10" fill="none"
                                    xmlns="http://www.w3.org/2000/svg">
                                    <path
                                        d="M5 5.26331C5 5.42963 4.93752 5.58955 4.81881 5.71748L1.06998 9.55557C0.826304 9.80504 0.426429 9.80504 0.182755 9.55557C-0.0609185 9.30609 -0.0609185 8.8967 0.182755 8.64722L3.49422 5.26331L0.182755 1.8794C-0.0609188 1.62992 -0.0609188 1.22692 0.182755 0.977449C0.426429 0.727974 0.820056 0.727974 1.06373 0.977449L4.81881 4.80914C4.94377 4.93707 5 5.09699 5 5.26331Z"
                                        fill="white"></path>
                                </svg>
                            </span>
                        </a>
                        <a *ngIf="!isBasicForm" class="theme-btn" [ngStyle]="background">
                            <span
                                [ngClass]="{'cursor-not-allowed': lead.is_freeze != 0 , 'cursor-pointer': lead.is_freeze == 0}"
                                (click)="lead.is_freeze == 0 ? finalSubmission() : null">Submit</span>
                            <span class="btn-icon btn-right-icon">
                                <svg width="5" height="10" viewBox="0 0 5 10" fill="none"
                                    xmlns="http://www.w3.org/2000/svg">
                                    <path
                                        d="M5 5.26331C5 5.42963 4.93752 5.58955 4.81881 5.71748L1.06998 9.55557C0.826304 9.80504 0.426429 9.80504 0.182755 9.55557C-0.0609185 9.30609 -0.0609185 8.8967 0.182755 8.64722L3.49422 5.26331L0.182755 1.8794C-0.0609188 1.62992 -0.0609188 1.22692 0.182755 0.977449C0.426429 0.727974 0.820056 0.727974 1.06373 0.977449L4.81881 4.80914C4.94377 4.93707 5 5.09699 5 5.26331Z"
                                        fill="white"></path>
                                </svg>
                            </span>
                        </a>
                        <!-- <a *ngIf="!isBasicForm" routerLink="../../lead-detail/{{leadID}}"
                            class="theme-btn white-btn cursor-pointer">
                            <span class="">Cancel</span>
                        </a> -->
                    </div>
                </div>
            </div>
        </div>
    </div>
</main>

<ng-template #rejectOffer>
    <div class="modal-header">
        <h4 class="modal-title" id="modal-basic-title">Reason for reject offer</h4>
        <button type="button" class="btn-close" aria-label="Close" (click)="closeDeclineModal()"></button>
    </div>
    <div class="modal-body">
        <form [formGroup]="declineForm">
            <!-- <div class="form-group">
                <label for="new">Reason*</label>
                <input formControlName="reason_note" type="textarea" id="new" placeholder="Enter reason" 
                     />
              
            </div> -->
            <div class="form-group">
                <span class="accordion-head-title">Note*</span>
                <textarea formControlName="reason_note" name="" [maxlength]="1000" class="form-control"></textarea>
                <div class="invalid-input" *ngIf="f.reason_note?.errors && f.reason_note?.touched">
                    <div *ngIf="f.reason_note?.errors?.pattern">
                        Invalid note
                    </div>
                    <div *ngIf="f.reason_note?.errors?.required">
                        Note is required
                    </div>
                    <div *ngIf="f.reason_note?.errors?.maxlength">
                        Maximum characters is 1000
                    </div>
                    <div *ngIf="f.reason_note?.errors?.minlength">
                        Note must be minimum 3 characters long
                    </div>
                </div>
            </div>
        </form>
    </div>
    <div class="modal-footer">
        <button type="button" [ngStyle]="background" class="theme-btn" (click)="getdeclineUpdate()">
            Update
        </button>
    </div>
</ng-template>